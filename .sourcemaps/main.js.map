{"version":3,"sources":["../../src/components/post-row/post-row.ts","../../src/pipes/pipes.module.ts","../../src/pipes/iterable/iterable.ts","../../src/components/notification-row/notification-row.ts","../../src/models/contentType.ts","../../src/pages/notifications/notifications.ts","../../src/pages/login/login.ts","../../src/pages/tabs-controller/tabs-controller.ts","../../src/pages/composePost/composePost.ts","../../src/providers/fcm/fcm.ts","../../src/pages/events/events.ts","../../src/pages/createEvent/createEvent.ts","../../src/pages/eventView/eventView.ts","../../src/pages/profile/profile.ts","../../src/pages/thread/thread.ts","../../node_modules/@angular/core/fesm5 lazy","../../src/providers/firebaseService/firebaseService.ts","../../src/providers/userService/userService.ts","../../src lazy","../../src/pages/signup/signup.ts","../../src/pages/greekme/greekme.ts","../../src/pages/feed/feed.ts","../../src/models/event.ts","../../src/components/pop-over/pop-over.ts","../../src/pages/editProfile/editProfile.ts","../../src/pages/settings/settings.ts","../../src/pages/composeThread/composeThread.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/globals/globals.ts","../../node_modules/moment/locale ^/.*$","../../src/app/app.firebase.config.ts"],"names":[],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;ACxQO,MAAM,cAAc,GAAG;IAC5B,MAAM,EAAE,yCAAyC;IACjD,UAAU,EAAE,+BAA+B;IAC3C,WAAW,EAAE,sCAAsC;IACnD,SAAS,EAAE,eAAe;IAC1B,aAAa,EAAE,2BAA2B;IAC1C,iBAAiB,EAAE,aAAa;CACjC,CAAC;AAAA;AAAA","file":"main.js","sourcesContent":["import { Component, Input } from '@angular/core';\r\nimport { Post } from '../../models/post';\r\nimport { User } from '../../models/user';\r\nimport { UserLike } from '../../models/userLike';\r\nimport { NavController } from 'ionic-angular';\r\nimport { ProfilePage } from '../../pages/profile/profile';\r\nimport { ThreadPage } from '../../pages/thread/thread';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\n\r\nimport app from 'firebase/app';\r\nimport { GlobalsProvider } from '../../providers/globals/globals';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'post-row',\r\n  templateUrl: 'post-row.html',\r\n})\r\nexport class PostRowComponent {\r\n  @Input('post') post: Post;\r\n  @Input('user') user: User;\r\n  @Input('userLikeItems') userLikeItems: Set<string> = new Set<string>();\r\n  @Input('showComments') showComments: boolean = true;\r\n  @Input('showLikes') showLikes: boolean = true;\r\n  avatar: string;\r\n  avatarSubscription: Subscription;\r\n  firstLoad: boolean = true;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private firebaseService: FirebaseServiceProvider,\r\n    globalsProvider: GlobalsProvider,\r\n  ) {\r\n    this.avatar = globalsProvider.DEFAULT_IMAGE_PATH;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setupAvatar();\r\n    this.avatarWatch();\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.destroySubscriptions();\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.avatarSubscription.unsubscribe();\r\n  }\r\n\r\n  listExistsAndValidLength(aList: object) {\r\n    return aList && this.getListLength(aList) > 0;\r\n  }\r\n\r\n  getListLength(aList: object) {\r\n    return Object.keys(aList).length;\r\n  }\r\n\r\n  async setupAvatar() {\r\n    // Avatar url === default, use it, otherwise fetch it from storage\r\n    if (this.post.avatarUrl !== this.avatar) {\r\n      const path = `${this.user.organizationId}/profilePhotos/${this.post.uid}`;\r\n      this.avatar = await app\r\n        .storage()\r\n        .ref(path)\r\n        .getDownloadURL();\r\n    }\r\n  }\r\n\r\n  getIconName() {}\r\n\r\n  avatarWatch() {\r\n    // References the avatarUrl of the post's creator, any changes it will refetch the downloadlink\r\n    const postAvatarRef = this.firebaseService.getUserAvatar(this.post.uid);\r\n    this.avatarSubscription = postAvatarRef.snapshotChanges().subscribe(action => {\r\n      if (action.type === 'value' && !this.firstLoad) {\r\n        this.setupAvatar();\r\n      }\r\n    });\r\n    this.firstLoad = false;\r\n  }\r\n\r\n  goToProfile() {\r\n    this.navCtrl.push(ProfilePage, {\r\n      uid: this.post.uid,\r\n    });\r\n  }\r\n\r\n  doLike() {\r\n    const isLiked = this.userLikeItems.has(this.post.key);\r\n    const updates = {};\r\n    const postToSubmit = { ...this.post };\r\n    const postLikeListPath = `/organization/${this.user.organizationId}/${this.post.contentType}/${\r\n      this.post.key\r\n    }/likeList/${this.user.uid}`;\r\n    const userLikeListPath = `/users/${this.user.uid}/likeList/${this.post.key}`;\r\n    const ownerPostPath = `/users/${this.post.uid}/postList/${this.post.key}`;\r\n\r\n    this.post.iconName = isLiked ? 'heart-outline' : 'heart';\r\n    postToSubmit.iconName = null;\r\n    if (isLiked) {\r\n      // Do unlike\r\n      updates[postLikeListPath] = null;\r\n      postToSubmit.likeList[this.user.uid] = null;\r\n      app\r\n        .database()\r\n        .ref(userLikeListPath)\r\n        .set(null);\r\n    } else {\r\n      // Do like\r\n      // This is the object stored on the post's like list\r\n      const userLikeObj = {\r\n        name: this.user.name,\r\n        key: this.user.uid,\r\n      } as UserLike;\r\n      // This is the object stored on the user's like list\r\n      const postLikeObj = {\r\n        text: this.post.text,\r\n        key: this.post.key,\r\n      };\r\n      if (postToSubmit.likeList) {\r\n        postToSubmit.likeList[this.user.uid] = userLikeObj;\r\n      } else {\r\n        postToSubmit.likeList = {};\r\n        postToSubmit.likeList[this.user.uid] = userLikeObj;\r\n      }\r\n      updates[postLikeListPath] = userLikeObj;\r\n      app\r\n        .database()\r\n        .ref(userLikeListPath)\r\n        .set(postLikeObj);\r\n    }\r\n    updates[ownerPostPath] = postToSubmit;\r\n    app\r\n      .database()\r\n      .ref()\r\n      .update(updates)\r\n      .catch(error => {\r\n        console.log('Error unlike');\r\n        console.log(error.message());\r\n      });\r\n  }\r\n\r\n  itemSelected() {\r\n    const aPost = JSON.stringify(this.post);\r\n    const data = {\r\n      organizationId: this.user.organizationId,\r\n      post: aPost,\r\n    };\r\n    this.navCtrl.push(ThreadPage, data);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/post-row/post-row.ts","import { NgModule } from '@angular/core';\r\nimport { IterablePipe } from './iterable/iterable';\r\n@NgModule({\r\n  declarations: [IterablePipe],\r\n  imports: [],\r\n  exports: [IterablePipe],\r\n})\r\nexport class PipesModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n/**\r\n * Iterable Pipe\r\n *\r\n * It accepts Objects and [Maps](https://developer.mozilla.org/en-US/docs/Web/\r\n * JavaScript/Reference/Global_Objects/Map)\r\n *\r\n * Example:\r\n *\r\n *  <div *ngFor=\"let keyValuePair of someObject | iterable\">\r\n *    key {{keyValuePair.key}} and value {{keyValuePair.value}}\r\n *  </div>\r\n *\r\n */\r\n@Pipe({ name: 'iterable', pure: false })\r\nexport class IterablePipe implements PipeTransform {\r\n  transform(iterable: any, args: any[]): any {\r\n    const result = [];\r\n    if (iterable.entries) {\r\n      iterable.forEach((key, value) => {\r\n        result.push({ key, value });\r\n      });\r\n    } else {\r\n    // tslint:disable-next-line:prefer-const\r\n      for (let aKey in iterable) {\r\n        if (iterable.hasOwnProperty(aKey)) {\r\n          result.push({ key: aKey, ...iterable[aKey] });\r\n        }\r\n      }\r\n    }\r\n    return result.reverse();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/iterable/iterable.ts","import { Component, Input } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { ThreadPage } from '../../pages/thread/thread';\r\nimport { User } from '../../models/user';\r\nimport { Post } from '../../models/post';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport app from 'firebase/app';\r\nimport { GlobalsProvider } from '../../providers/globals/globals';\r\n\r\n@Component({\r\n  selector: 'notification-row',\r\n  templateUrl: 'notification-row.html',\r\n})\r\nexport class NotificationRowComponent {\r\n  @Input('user') user: User;\r\n  @Input('notification') notification: Post;\r\n  avatar = '';\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private userService: UserServiceProvider,\r\n    globalsProvider: GlobalsProvider,\r\n  ) {\r\n    this.avatar = globalsProvider.DEFAULT_IMAGE_PATH;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setupAvatar();\r\n  }\r\n\r\n  async setupAvatar() {\r\n    // Avatar url === default, use it, otherwise fetch it from storage\r\n    if (this.notification.avatarUrl !== this.avatar) {\r\n      const path = `${this.user.organizationId}/profilePhotos/${this.notification.uid}`;\r\n      this.avatar = await app\r\n        .storage()\r\n        .ref(path)\r\n        .getDownloadURL();\r\n    }\r\n  }\r\n\r\n  itemSelected() {\r\n    const aNotification = JSON.stringify(this.notification);\r\n    const data = {\r\n      organizationId: this.user.organizationId,\r\n      post: aNotification,\r\n    };\r\n    this.navCtrl.push(ThreadPage, data);\r\n  }\r\n\r\n  deleteNotification() {\r\n    this.userService.removeNotification(this.notification.key);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/notification-row/notification-row.ts","export enum ContentType {\r\n  Broadcast = 'broadcast',\r\n  Message = 'message',\r\n  Thread = 'thread',\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/contentType.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { Post } from '../../models/post';\r\nimport { User } from '../../models/user';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\n\r\n@Component({\r\n  selector: 'page-notifications',\r\n  templateUrl: 'notifications.html',\r\n})\r\nexport class NotificationsPage {\r\n  notifications = new Map<string, Post>();\r\n  user = {} as User;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private view: ViewController,\r\n    private userService: UserServiceProvider,\r\n  ) {}\r\n\r\n  ionViewWillEnter() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    this.notifications = this.userService.notifications;\r\n    console.log(this.notifications);\r\n  }\r\n\r\n  async dataSetup() {\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n  }\r\n\r\n  trackByFn(index: number, item: any) {\r\n    return item.key;\r\n  }\r\n\r\n  closeModal() {\r\n    this.view.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notifications/notifications.ts","import { Component } from '@angular/core';\r\nimport { NavController, LoadingController } from 'ionic-angular';\r\nimport { SignupPage } from '../signup/signup';\r\nimport { User } from '../../models/user';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { TabsControllerPage } from '../tabs-controller/tabs-controller';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n  loginForm: FormGroup;\r\n  user = {} as User;\r\n  error = '';\r\n  userCheck: Subscription;\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    public navCtrl: NavController,\r\n    public firebaseService: FirebaseServiceProvider,\r\n    public loadingCtrl: LoadingController,\r\n    private formBuilder: FormBuilder,\r\n  ) {}\r\n\r\n  ionViewWillLoad() {\r\n    this.loginForm = this.formBuilder.group({\r\n      email: [''],\r\n      password: [''],\r\n    });\r\n  }\r\n\r\n  // Method used to transfer user to signup page\r\n  goToSignup() {\r\n    this.navCtrl.setRoot(SignupPage, {}, { animate: true, direction: 'forward' });\r\n  }\r\n\r\n  // Method used to log in\r\n  async login() {\r\n    const loader = this.loadingCtrl.create({\r\n      content: 'Logging in...',\r\n      dismissOnPageChange: true,\r\n    });\r\n    try {\r\n      loader.present();\r\n      await this.afAuth.auth.signInWithEmailAndPassword(\r\n        this.loginForm.value.email,\r\n        this.loginForm.value.password,\r\n      );\r\n    } catch (e) {\r\n      const trimmedMessage = /^.*:\\s*(.*)$/.exec(e.message);\r\n      if (trimmedMessage == null) {\r\n        this.error = e.message;\r\n      } else {\r\n        this.error = trimmedMessage[1];\r\n      }\r\n    } finally {\r\n      loader.dismiss();\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { GreekMePage } from '../greekme/greekme';\r\nimport { FeedPage } from '../feed/feed';\r\nimport { EventsPage } from '../events/events';\r\nimport { ProfilePage } from '../profile/profile';\r\n\r\n@Component({\r\n  selector: 'page-tabs-controller',\r\n  templateUrl: 'tabs-controller.html',\r\n})\r\nexport class TabsControllerPage {\r\n  // this tells the tabs component which Pages\r\n  // should be each tab's root Page\r\n  tab1Root: any = GreekMePage;\r\n  tab2Root: any = FeedPage;\r\n  tab3Root: any = EventsPage;\r\n  tab4Root: any = ProfilePage;\r\n  constructor(public navCtrl: NavController) {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs-controller/tabs-controller.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { NavParams, ViewController } from 'ionic-angular';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { User } from '../../models/user';\r\nimport { Post } from '../../models/post';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport 'firebase/storage';\r\nimport * as moment from 'moment';\r\nimport { ContentType } from '../../models/contentType';\r\nimport app from 'firebase/app';\r\n\r\n@Component({\r\n  selector: 'page-composePost',\r\n  templateUrl: 'composePost.html',\r\n})\r\nexport class ComposePostPage {\r\n  @ViewChild('post') post: ElementRef;\r\n  contentType: ContentType;\r\n  user = {} as User;\r\n  tempPost = {} as Post;\r\n  error = '';\r\n  contentMessage = '' as string;\r\n  constructor(\r\n    public firebaseService: FirebaseServiceProvider,\r\n    private userService: UserServiceProvider,\r\n    private navParams: NavParams,\r\n    private view: ViewController,\r\n  ) {}\r\n\r\n  ionViewWillEnter() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    this.contentType = this.navParams.get('contentType');\r\n    this.contentMessage =\r\n      this.contentType === ContentType.Broadcast ? 'Compose a broadcast' : 'Compose a message';\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n  }\r\n\r\n  updatePostList(tempPost: Post) {\r\n    const updates = {};\r\n    updates[`/users/${this.user.uid}/postList/${tempPost.key}`] = tempPost;\r\n    app\r\n      .database()\r\n      .ref()\r\n      .update(updates)\r\n      .then(() => {})\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  composePost(tempPost: Post) {\r\n    if (tempPost.text == null || tempPost.text === '') {\r\n      this.error = 'Message cannot be blank!';\r\n    } else {\r\n      this.error = '';\r\n      tempPost.avatarUrl = this.user.avatarUrl;\r\n      tempPost.uid = this.user.uid;\r\n      tempPost.name = this.user.name;\r\n      tempPost.date = moment().toISOString();\r\n      tempPost.contentType = this.contentType;\r\n      if (this.contentType === ContentType.Broadcast) {\r\n        // Need to still update user commentList, need to get the broadcast ID\r\n        tempPost.key = this.firebaseService.addToBroadcastList(tempPost, this.user.organizationId);\r\n      } else if (this.contentType === ContentType.Message) {\r\n        tempPost.key = this.firebaseService.addToFeedList(tempPost, this.user.organizationId);\r\n      }\r\n      if (tempPost.key) {\r\n        this.updatePostList(tempPost);\r\n        this.view.dismiss();\r\n      } else {\r\n        // Add logging here\r\n        this.error = 'Key not initialized error with ContentType';\r\n      }\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    this.post.nativeElement.style.height = 'auto';\r\n    this.post.nativeElement.style.height = `${this.post.nativeElement.scrollHeight}px`;\r\n  }\r\n\r\n  closeModal() {\r\n    this.view.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/composePost/composePost.ts","import { Injectable } from '@angular/core';\r\nimport { Firebase } from '@ionic-native/firebase';\r\nimport { Platform } from 'ionic-angular';\r\nimport { AngularFirestore } from 'angularfire2/firestore';\r\nimport { UserServiceProvider } from '../userService/userService';\r\nimport { User } from '../../models/user';\r\n\r\n/*\r\n  Generated class for the FcmProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class FcmProvider {\r\n  constructor(\r\n    public firebaseNative: Firebase,\r\n    public afs: AngularFirestore,\r\n    public platform: Platform,\r\n    private userService: UserServiceProvider,\r\n  ) {}\r\n\r\n  async getToken() {\r\n    let token;\r\n    if (this.platform.is('android')) {\r\n      console.log('android');\r\n      token = await this.firebaseNative.getToken();\r\n    }\r\n\r\n    if (this.platform.is('ios')) {\r\n      console.log('ios');\r\n      token = await this.firebaseNative.getToken();\r\n      await this.firebaseNative.grantPermission();\r\n    }\r\n\r\n    console.log(`Token: ${token}`);\r\n    return this.saveTokenToFirestore(token);\r\n  }\r\n\r\n  private async saveTokenToFirestore(token) {\r\n    if (!token) return;\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    const user = userGrab as User;\r\n    const devicesRef = this.afs.collection(user.organizationId);\r\n\r\n    const docData = {\r\n      token,\r\n      userId: user.uid,\r\n      broadcastNotifications: user.broadcastNotifications,\r\n      feedNotifications: user.feedNotifications,\r\n    };\r\n    return devicesRef.doc(token).set(docData);\r\n  }\r\n\r\n  listenToNotifications() {\r\n    return this.firebaseNative.onNotificationOpen();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/fcm/fcm.ts","import { Component } from '@angular/core';\r\nimport { NavController, ModalController } from 'ionic-angular';\r\nimport { AngularFireList } from 'angularfire2/database';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { User } from '../../models/user';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport { CreateEventPage } from '../createEvent/createEvent';\r\nimport { EventViewPage } from '../eventView/eventView';\r\nimport * as moment from 'moment';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs';\r\nimport { Event, Repeat } from '../../models/event';\r\nimport { NotificationsPage } from '../notifications/notifications';\r\n\r\n@Component({\r\n  selector: 'page-events',\r\n  templateUrl: 'events.html',\r\n})\r\nexport class EventsPage {\r\n  firebaseStorage = firebase.storage();\r\n  user = {} as User;\r\n  eventItems$: Observable<any>;\r\n  eventItemsRef: AngularFireList<any>;\r\n  eventItemsSubscription: Subscription;\r\n  eventItems: Map<string, Event> = new Map<string, Event>();\r\n  notificationsIcon = 'notifications-outline';\r\n  notificationsSubscription: Subscription;\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    public navCtrl: NavController,\r\n    public firebaseService: FirebaseServiceProvider,\r\n    private userService: UserServiceProvider,\r\n    private modalController: ModalController,\r\n  ) {}\r\n\r\n  ionViewWillLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n    this.eventItemsRef = this.firebaseService.getOrgEventList(this.user.organizationId);\r\n    this.eventItems$ = this.eventItemsRef.snapshotChanges().map(action => {\r\n      // tslint:disable-next-line:ter-arrow-parens\r\n      return action.map(c => ({\r\n        key: c.payload.key,\r\n        ...c.payload.val(),\r\n      }));\r\n    });\r\n    this.buildSubscription();\r\n  }\r\n\r\n  logout() {\r\n    this.afAuth.auth.signOut();\r\n  }\r\n\r\n  goToCreateEvent() {\r\n    const myModal = this.modalController.create(CreateEventPage);\r\n    myModal.present();\r\n  }\r\n  goToEvent(key: string) {\r\n    const data = {\r\n      eventId: key,\r\n    };\r\n    this.navCtrl.push(EventViewPage, data);\r\n  }\r\n\r\n  goToNotifications() {\r\n    const myModal = this.modalController.create(NotificationsPage);\r\n    myModal.present();\r\n  }\r\n\r\n  buildSubscription() {\r\n    let anEvent: Event;\r\n    this.eventItemsSubscription = this.eventItemsRef.stateChanges().subscribe(action => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        anEvent = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n        };\r\n        const eventDate = moment(anEvent.date);\r\n        // Checks to see if the event is a day old, if so remove or update it.\r\n        if (eventDate.diff(moment()) < -86400000) {\r\n          switch (anEvent.repeat) {\r\n            case Repeat.Never:\r\n              this.eventItemsRef.remove(anEvent.key);\r\n              break;\r\n            case Repeat.Daily:\r\n              this.updateEventItems(anEvent, 1, 'd');\r\n              break;\r\n            case Repeat.Weekly:\r\n              this.updateEventItems(anEvent, 7, 'd');\r\n              break;\r\n            case Repeat.Biweekly:\r\n              this.updateEventItems(anEvent, 14, 'd');\r\n              break;\r\n            case Repeat.Monthly:\r\n              this.updateEventItems(anEvent, 1, 'M');\r\n              break;\r\n            case Repeat.Yearly:\r\n              this.updateEventItems(anEvent, 1, 'y');\r\n              break;\r\n          }\r\n          anEvent.date = moment(anEvent.date).format('dddd, MMMM Do YYYY [at] h:mm a');\r\n        } else {\r\n          anEvent.date = moment(anEvent.date).format('dddd, MMMM Do YYYY [at] h:mm a');\r\n          this.eventItems.set(anEvent.key, anEvent);\r\n        }\r\n      } else if (action.type === 'child_changed') {\r\n        // Construct the replacement event\r\n        anEvent = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n        };\r\n        const previousEvent = this.eventItems.get(anEvent.key);\r\n        Object.keys(this.eventItems.get(anEvent.key)).forEach(aProperty => {\r\n          // If the value of the new broadcast is different, replace it on the previous one\r\n          if (previousEvent[aProperty] !== anEvent[aProperty]) {\r\n            if (aProperty === 'date') {\r\n              previousEvent[aProperty] = moment(anEvent[aProperty]).format(\r\n                'dddd, MMMM Do YYYY [at] h:mm a',\r\n              );\r\n            } else {\r\n              previousEvent[aProperty] = anEvent[aProperty];\r\n            }\r\n          }\r\n        });\r\n      } else if (action.type === 'child_removed') {\r\n        this.eventItems.delete(action.payload.key);\r\n      }\r\n    });\r\n    this.notificationsSubscription = this.userService.notificationSizeSubject.subscribe({\r\n      next: size => {\r\n        if (size > 0) {\r\n          this.notificationsIcon = 'notifications';\r\n        } else {\r\n          this.notificationsIcon = 'notifications-outline';\r\n        }\r\n        console.log(size);\r\n      },\r\n    });\r\n  }\r\n  updateEventItems(anEvent: Event, timeAddition: any, timeType: string) {\r\n    anEvent.date = moment(anEvent.date).add(timeAddition, timeType);\r\n    this.eventItems.set(anEvent.key, anEvent);\r\n    this.eventItemsRef.update(anEvent.key, anEvent);\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.eventItemsSubscription.unsubscribe();\r\n    this.notificationsSubscription.unsubscribe();\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.destroySubscriptions();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/events/events.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { EventsPage } from '../events/events';\r\nimport { User } from '../../models/user';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport * as moment from 'moment';\r\nimport { Event, Repeat } from '../../models/event';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AngularFireList } from '../../../node_modules/angularfire2/database';\r\nimport app from 'firebase/app';\r\n\r\n@Component({\r\n  selector: 'page-createEvent',\r\n  templateUrl: 'createEvent.html',\r\n})\r\nexport class CreateEventPage {\r\n  user = {} as User;\r\n  attendingItems$: Observable<any[]>;\r\n  event = {} as Event;\r\n  editMode: boolean = false;\r\n  eventItemsRef: AngularFireList<any>;\r\n  repeatOptions = [Repeat.Never, Repeat.Daily, Repeat.Weekly, Repeat.Monthly, Repeat.Yearly];\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    public navCtrl: NavController,\r\n    public firebaseService: FirebaseServiceProvider,\r\n    private userService: UserServiceProvider,\r\n    public navParams: NavParams,\r\n    private view: ViewController,\r\n  ) {}\r\n\r\n  ionViewWillEnter() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    this.event.repeat = Repeat.Never;\r\n    this.event.date = moment().format();\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    if (this.navParams.get('editMode')) {\r\n      this.editMode = true;\r\n      this.event = JSON.parse(this.navParams.get('event'));\r\n      console.log('editmode');\r\n    }\r\n    this.user = userGrab as User;\r\n    this.eventItemsRef = this.firebaseService.getOrgEventList(this.user.organizationId);\r\n    this.attendingItems$ = this.firebaseService.getUserEventList(this.user.uid).valueChanges();\r\n  }\r\n\r\n  createEvent() {\r\n    this.event.creator = this.user.name;\r\n    this.event.creatorUid = this.user.uid;\r\n    const newEventKey = this.eventItemsRef.push(this.event).key;\r\n    const updates = {};\r\n    const nameObj = {\r\n      name: this.user.name,\r\n      avatarUrl: this.user.avatarUrl,\r\n    };\r\n    const attendingListPath = `/organization/${\r\n      this.user.organizationId\r\n    }/event/${newEventKey}/attendingList/${this.user.uid}`;\r\n    const userAttendingPath = `/users/${this.user.uid}/eventsAttending/${newEventKey}`;\r\n    updates[attendingListPath] = nameObj;\r\n    updates[userAttendingPath] = this.event;\r\n    app\r\n      .database()\r\n      .ref()\r\n      .update(updates)\r\n      .then(() => {\r\n        console.log('Event Added!');\r\n      })\r\n      .catch(error => console.log(error));\r\n    this.navCtrl.setRoot(EventsPage);\r\n  }\r\n\r\n  // Edit Event view methods\r\n  closeModal() {\r\n    this.view.dismiss();\r\n  }\r\n\r\n  async updateEvent() {\r\n    try {\r\n      this.eventItemsRef.update(this.event.key, this.event);\r\n      this.view.dismiss();\r\n    } catch (error) {\r\n      console.log('ERROR', error);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/createEvent/createEvent.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ToastController, ModalController } from 'ionic-angular';\r\nimport { AngularFireList, AngularFireObject } from 'angularfire2/database';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { User } from '../../models/user';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport { Event } from '../../models/event';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs';\r\nimport { CreateEventPage } from '../createEvent/createEvent';\r\nimport * as moment from 'moment';\r\nimport { GlobalsProvider } from '../../providers/globals/globals';\r\n\r\n@Component({\r\n  selector: 'page-eventView',\r\n  templateUrl: 'eventView.html',\r\n})\r\nexport class EventViewPage {\r\n  firebase = firebase.database();\r\n  user = {} as User;\r\n  eventRef: AngularFireObject<any>;\r\n  eventSubscription: Subscription;\r\n  anEvent: Event;\r\n  attendingList$: Observable<any[]>;\r\n  eventInfo: string = 'details';\r\n  attendingStatus: boolean = false;\r\n  isCreator: boolean = false;\r\n  eventId: string;\r\n  userAttendingListRef: AngularFireList<any>;\r\n  userAttendingList$: Observable<any>;\r\n  eventName: string;\r\n  eventAttendingItemsRef: AngularFireList<any>;\r\n  attendingSubscription: Subscription;\r\n  eventAttendingSubscription: Subscription;\r\n  eventAttendingItems: Map<string, any> = new Map<string, any>();\r\n  repeatLines = {\r\n    Never: 'An event',\r\n    Daily: 'A daily event',\r\n    Weekly: 'A weekly event',\r\n    Monthly: 'A monthly event',\r\n    Yearly: 'A yearly event',\r\n  };\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public firebaseService: FirebaseServiceProvider,\r\n    private userService: UserServiceProvider,\r\n    public navParams: NavParams,\r\n    public toastCtrl: ToastController,\r\n    private modalController: ModalController,\r\n    private globalsProvider: GlobalsProvider,\r\n  ) {}\r\n\r\n  async dataSetup() {\r\n    this.eventId = this.navParams.get('eventId');\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n    this.eventRef = this.firebaseService.getEventInfo(this.eventId, this.user.organizationId);\r\n    this.eventAttendingItemsRef = this.firebaseService.getEventAttendingList(\r\n      this.eventId,\r\n      this.user.organizationId,\r\n    );\r\n    // this.checkCreator();\r\n    this.userAttendingListRef = this.firebaseService.getUserEventList(this.user.uid);\r\n    this.userAttendingList$ = this.userAttendingListRef.snapshotChanges().map(action => {\r\n      return action.map(c => {\r\n        return {\r\n          key: c.payload.key,\r\n          ...c.payload.val(),\r\n        };\r\n      });\r\n    });\r\n    this.buildSubscriptions();\r\n  }\r\n\r\n  async buildSubscriptions() {\r\n    try {\r\n      this.eventAttendingSubscription = this.eventAttendingItemsRef\r\n        .stateChanges()\r\n        .subscribe(async action => {\r\n          if (action.type === 'value' || action.type === 'child_added') {\r\n            const vals = action.payload.val();\r\n            let avatar;\r\n\r\n            // Avatar url === default, use it, otherwise fetch it from storage\r\n            if (vals.avatarUrl !== this.globalsProvider.DEFAULT_IMAGE_PATH) {\r\n              const path = `${this.user.organizationId}/profilePhotos/${action.payload.key}`;\r\n              avatar = await firebase\r\n                .storage()\r\n                .ref(path)\r\n                .getDownloadURL();\r\n            }\r\n            const attendingUser = {\r\n              name: action.payload.val().name,\r\n              avatarUrl: avatar,\r\n            };\r\n\r\n            // Check if it is the User\r\n            if (action.key === this.user.uid) {\r\n              this.attendingStatus = true;\r\n            }\r\n            this.eventAttendingItems.set(action.key, attendingUser);\r\n          } else if (action.type === 'child_removed') {\r\n            this.eventAttendingItems.delete(action.key);\r\n          }\r\n        });\r\n\r\n      this.eventSubscription = this.eventRef.snapshotChanges().subscribe(action => {\r\n        if (action.type === 'value' || action.type === 'child_added') {\r\n          this.anEvent = {\r\n            key: action.payload.key,\r\n            ...action.payload.val(),\r\n          };\r\n          if (this.anEvent.creatorUid === this.user.uid) {\r\n            this.isCreator = true;\r\n          }\r\n        } else if (action.type === 'child_changed') {\r\n          const tempEvent = action.payload.val();\r\n          Object.keys(this.anEvent).forEach(aProperty => {\r\n            // Updates event values only if changed\r\n            if (this.anEvent[aProperty] !== tempEvent[aProperty]) {\r\n              this.anEvent[aProperty] = tempEvent[aProperty];\r\n            }\r\n          });\r\n        }\r\n        this.anEvent.date = moment(this.anEvent.date).format('dddd, MMMM Do YYYY [at] h:mm a');\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  rsvpYes() {\r\n    if (!this.attendingStatus) {\r\n      // Check to see if the person is able to rsvp yes\r\n      const updates = {};\r\n      const nameObj = {\r\n        name: this.user.name,\r\n        avatarUrl: this.user.avatarUrl,\r\n      };\r\n      let eventObj = {} as Event;\r\n      this.firebase\r\n        .ref(`/organization/${this.user.organizationId}/event/${this.eventId}`)\r\n        .once('value')\r\n        .then(snapshot => {\r\n          eventObj = snapshot.val();\r\n          const eventAttendingPath = `/organization/${this.user.organizationId}/event/${\r\n            this.eventId\r\n          }/attendingList/${this.user.uid}`;\r\n          const userAttendingPath = `/users/${this.user.uid}/eventsAttending/${this.eventId}`;\r\n          updates[eventAttendingPath] = nameObj;\r\n          updates[`/users/${this.user.uid}/eventsAttending/${this.eventId}`] = eventObj;\r\n          firebase\r\n            .database()\r\n            .ref()\r\n            .update(updates)\r\n            .then(() => {\r\n              this.attendingStatus = true;\r\n              this.toast('You are going to this event!');\r\n            })\r\n            .catch(error => {\r\n              this.toast('Error RSVPing.');\r\n            });\r\n        });\r\n    }\r\n  }\r\n\r\n  async getAvatar(avatarPath: string, uid: string) {\r\n    console.log(uid);\r\n    return avatarPath;\r\n    // Avatar url === default, use it, otherwise fetch it from storage\r\n    // if (avatarPath !== this.globalsProvider.DEFAULT_IMAGE_PATH) {\r\n    //   const path = `${this.user.organizationId}/profilePhotos/${uid}`;\r\n    //   return await firebase\r\n    //     .storage()\r\n    //     .ref(path)\r\n    //     .getDownloadURL();\r\n    // }\r\n  }\r\n\r\n  rsvpNo() {\r\n    if (this.attendingStatus) {\r\n      // Check to see if the person is able to rsvp no\r\n      this.toast('Removed you from the attending list.');\r\n      this.eventAttendingItemsRef.remove(this.user.uid);\r\n      this.userAttendingListRef.remove(this.eventId);\r\n      this.attendingStatus = false;\r\n    }\r\n  }\r\n\r\n  editEvent() {\r\n    const myModal = this.modalController.create(CreateEventPage, {\r\n      event: JSON.stringify(this.anEvent),\r\n      editMode: true,\r\n    });\r\n    myModal.present();\r\n  }\r\n\r\n  toast(text) {\r\n    const toast = this.toastCtrl.create({\r\n      message: text,\r\n      duration: 2000,\r\n      position: 'top',\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.eventAttendingSubscription.unsubscribe();\r\n    this.eventSubscription.unsubscribe();\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.destroySubscriptions();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/eventView/eventView.ts","import { Component } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { NavController, App, PopoverController, NavParams, ModalController } from 'ionic-angular';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { LoginPage } from '../login/login';\r\nimport { User } from '../../models/user';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AngularFireList } from 'angularfire2/database';\r\nimport { Post } from '../../models/post';\r\nimport { EventViewPage } from '../eventView/eventView';\r\nimport { PopOverComponent } from '../../components/pop-over/pop-over';\r\nimport { EditProfilePage } from '../editProfile/editProfile';\r\nimport * as moment from 'moment';\r\nimport { Subscription } from 'rxjs';\r\nimport * as firebase from 'firebase/app';\r\nimport { Event } from '../../models/event';\r\nimport { SettingsPage } from '../settings/settings';\r\nimport { NotificationsPage } from '../notifications/notifications';\r\nimport { GlobalsProvider } from '../../providers/globals/globals';\r\n\r\n@Component({\r\n  selector: 'page-profile',\r\n  templateUrl: 'profile.html',\r\n})\r\nexport class ProfilePage {\r\n  isUser: boolean;\r\n  user = {} as User;\r\n  postItems: Map<string, Post> = new Map<string, Post>();\r\n  postItemRef: AngularFireList<any>;\r\n  postItemSubscription: Subscription;\r\n  eventItems$: Observable<any>;\r\n  eventItems: Map<string, Event> = new Map<string, Event>();\r\n  eventItemsRef: AngularFireList<any>;\r\n  eventItemsSubscription: Subscription;\r\n  profileContent: string = 'posts';\r\n  userLikeListRef: AngularFireList<any>;\r\n  userLikeItems: Set<string> = new Set<string>();\r\n  userLikeSubscription: Subscription;\r\n  avatar: string = '';\r\n  notFirstEnter: boolean = false;\r\n  notificationsIcon = 'notifications-outline';\r\n  notificationsSubscription: Subscription;\r\n\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    public navCtrl: NavController,\r\n    private firebaseService: FirebaseServiceProvider,\r\n    private userService: UserServiceProvider,\r\n    private popoverCtrl: PopoverController,\r\n    public navParams: NavParams,\r\n    private storage: Storage,\r\n    private modal: ModalController,\r\n    private app: App,\r\n    globalsProvider: GlobalsProvider,\r\n  ) {\r\n    this.avatar = globalsProvider.DEFAULT_IMAGE_PATH;\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    const guestUser = this.navParams.get('uid');\r\n    try {\r\n      // Check to see if it is a user navigating through profile pictures, if so hide the options\r\n      if (guestUser) {\r\n        this.isUser = false;\r\n        const guestProfileUserGrab = await this.firebaseService.getUserDetailsProfilePage(\r\n          guestUser,\r\n        );\r\n        this.user = guestProfileUserGrab as User;\r\n      } else {\r\n        this.isUser = true;\r\n        const userGrab = await this.userService.currentUserInfo();\r\n        this.user = userGrab as User;\r\n      }\r\n      this.userLikeListRef = this.firebaseService.getUserLikeList(this.user.uid);\r\n      this.postItemRef = this.firebaseService.getUserPostList(this.user.uid);\r\n      this.eventItemsRef = this.firebaseService.getUserEventsAttending(this.user.uid);\r\n      this.buildSubscriptions();\r\n      this.eventItems$ = this.eventItemsRef.snapshotChanges().map(action => {\r\n        return action.map(c => {\r\n          return {\r\n            key: c.payload.key,\r\n            ...c.payload.val(),\r\n          };\r\n        });\r\n      });\r\n      if (this.user.avatarUrl !== this.avatar) {\r\n        const avatarPath = `${this.user.organizationId}/profilePhotos/${this.user.uid}`;\r\n        this.avatar = await firebase\r\n          .storage()\r\n          .ref(avatarPath)\r\n          .getDownloadURL();\r\n      }\r\n      this.buildSubscriptions();\r\n      // this.notFirstEnter = true;\r\n    } catch (error) {\r\n      console.log('Error', error);\r\n    }\r\n  }\r\n\r\n  buildSubscriptions() {\r\n    let post: Post;\r\n    let anEvent: Event;\r\n    // Subscriptions for handling the user's posts\r\n    // Broadcast data is stored in a Map\r\n    this.userLikeSubscription = this.userLikeListRef.stateChanges().subscribe(action => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        this.userLikeItems.add(action.key);\r\n      } else if (action.type === 'child_removed') {\r\n        this.userLikeItems.delete(action.key);\r\n      }\r\n    });\r\n\r\n    this.postItemSubscription = this.postItemRef.stateChanges().subscribe(action => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        post = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName: this.userLikeItems.has(action.key) ? 'heart' : 'heart-outline',\r\n        };\r\n        this.postItems.set(post.key, post);\r\n      } else if (action.type === 'child_changed') {\r\n        const iconName = this.userLikeItems.has(action.key) ? 'heart' : 'heart-outline';\r\n        const previousPost = this.postItems.get(action.key);\r\n        // Construct the replacement broadcast\r\n        post = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName,\r\n        };\r\n\r\n        Object.keys(previousPost).forEach(aProperty => {\r\n          if (!post[aProperty]) {\r\n            previousPost[aProperty] = null;\r\n          } else if (previousPost[aProperty] !== post[aProperty]) {\r\n            previousPost[aProperty] = post[aProperty];\r\n          }\r\n        });\r\n        Object.keys(post).forEach(aProperty => {\r\n          if (!previousPost[aProperty]) {\r\n            previousPost[aProperty] = post[aProperty];\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    this.eventItemsSubscription = this.eventItemsRef.stateChanges().subscribe(action => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        anEvent = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n        };\r\n        const eventDate = moment(anEvent.date);\r\n        if (eventDate.diff(moment()) < -86400000) {\r\n          this.eventItemsRef.remove(anEvent.key);\r\n        } else {\r\n          this.eventItems.set(anEvent.key, anEvent);\r\n        }\r\n      } else if (action.type === 'child_changed') {\r\n        // Construct the replacement event\r\n        anEvent = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n        };\r\n        const previousEvent = this.eventItems.get(anEvent.key);\r\n        Object.keys(this.eventItems.get(anEvent.key)).forEach(aProperty => {\r\n          // If the value of the new broadcast is different, replace it on the previous one\r\n          if (previousEvent[aProperty] !== anEvent[aProperty]) {\r\n            previousEvent[aProperty] = anEvent[aProperty];\r\n          }\r\n        });\r\n      }\r\n    });\r\n    this.notificationsSubscription = this.userService.notificationSizeSubject.subscribe({\r\n      next: size => {\r\n        if (size > 0) {\r\n          this.notificationsIcon = 'notifications';\r\n        } else {\r\n          this.notificationsIcon = 'notifications-outline';\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  editProfile(): void {\r\n    const myModal = this.modal.create(EditProfilePage, {\r\n      user: JSON.stringify(this.user),\r\n      avatar: this.avatar,\r\n    });\r\n    myModal.present();\r\n    myModal.onWillDismiss(userData => {\r\n      if (userData) {\r\n        const updatedUser = JSON.parse(userData.user) as User;\r\n        Object.keys(this.user).forEach(aProperty => {\r\n          // If the value of the new user is different, replace it on the previous one\r\n          if (this.user[aProperty] !== updatedUser[aProperty]) {\r\n            this.user[aProperty] = updatedUser[aProperty];\r\n          }\r\n          this.avatar = userData.avatar;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  goToEvent(key: string): void {\r\n    const paramObj = {\r\n      eventId: key,\r\n    };\r\n    this.navCtrl.push(EventViewPage, paramObj);\r\n  }\r\n\r\n  presentPopover(popOverEvent): void {\r\n    const popover = this.popoverCtrl.create(PopOverComponent, {\r\n      items: [{ name: 'Edit Profile' }, { name: 'Settings' }, { name: 'Log Out' }],\r\n    });\r\n    popover.present({ ev: popOverEvent });\r\n    popover.onWillDismiss(data => {\r\n      if (data) {\r\n        if (data.name === 'Log Out') {\r\n          this.logout();\r\n        } else if (data.name === 'Edit Profile') {\r\n          this.editProfile();\r\n        } else if (data.name === 'Settings') {\r\n          this.editSettings();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  editSettings(): any {\r\n    const myModal = this.modal.create(SettingsPage, {\r\n      user: JSON.stringify(this.user),\r\n    });\r\n    myModal.present();\r\n    myModal.onWillDismiss(userData => {\r\n      if (userData) {\r\n        const updatedUser = JSON.parse(userData.user) as User;\r\n        Object.keys(this.user).forEach(aProperty => {\r\n          // If the value of the new user is different, replace it on the previous one\r\n          if (this.user[aProperty] !== updatedUser[aProperty]) {\r\n            this.user[aProperty] = updatedUser[aProperty];\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.userLikeSubscription.unsubscribe();\r\n    this.postItemSubscription.unsubscribe();\r\n    this.eventItemsSubscription.unsubscribe();\r\n    this.notificationsSubscription.unsubscribe();\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.destroySubscriptions();\r\n  }\r\n\r\n  trackByFn(index: number, item: Post): string {\r\n    return item.key;\r\n  }\r\n\r\n  goToNotifications() {\r\n    const myModal = this.modal.create(NotificationsPage);\r\n    myModal.present();\r\n  }\r\n\r\n  logout(): void {\r\n    this.afAuth.auth\r\n      .signOut()\r\n      .then(() => {\r\n        this.app.getRootNavs()[0].setRoot(LoginPage);\r\n        this.storage.remove('user');\r\n      })\r\n      .catch(e => {\r\n        console.error(e);\r\n        console.error(e.message);\r\n      });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\r\nimport { Post } from '../../models/post';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport { ComposeThreadPage } from '../composeThread/composeThread';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { ContentType } from '../../models/contentType';\r\nimport { User } from '../../models/user';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\n/**\r\n * Generated class for the ThreadPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: 'page-thread',\r\n  templateUrl: 'thread.html',\r\n})\r\nexport class ThreadPage {\r\n  firebaseStorage = firebase.storage();\r\n  postItems$: Observable<any>;\r\n  post = {} as Post;\r\n  organizationId = '';\r\n  user = {} as User;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private navParams: NavParams,\r\n    private firebaseService: FirebaseServiceProvider,\r\n    private modal: ModalController,\r\n    private userService: UserServiceProvider,\r\n  ) {}\r\n\r\n  ionViewWillLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    const data = this.navParams.data;\r\n    this.post = JSON.parse(data.post);\r\n    this.organizationId = data.organizationId;\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n\r\n    if (this.post.contentType === ContentType.Broadcast) {\r\n      this.postItems$ = this.firebaseService\r\n        .getCommentListBroadcast(this.organizationId, this.post.key)\r\n        .valueChanges();\r\n    } else if (this.post.contentType === ContentType.Message) {\r\n      this.postItems$ = this.firebaseService\r\n        .getCommentListMessage(this.organizationId, this.post.key)\r\n        .valueChanges();\r\n    }\r\n  }\r\n\r\n  goToComposeThread() {\r\n    const data = {\r\n      key: this.post.key,\r\n      contentType: this.post.contentType,\r\n    };\r\n    const myModal = this.modal.create(ComposeThreadPage, data);\r\n    myModal.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/thread/thread.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 262;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/fesm5 lazy\n// module id = 262\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport { AngularFireDatabase, AngularFireObject } from 'angularfire2/database';\r\nimport { Storage } from '@ionic/storage';\r\nimport { User } from '../../models/user';\r\nimport app from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport { Post } from '../../models/post';\r\nimport { Event } from '../../models/event';\r\nimport { UserLike } from '../../models/userLike';\r\nimport { Observable } from '@firebase/util';\r\nimport { GlobalsProvider } from '../globals/globals';\r\n\r\n@Injectable()\r\nexport class FirebaseServiceProvider {\r\n  user: Observable<any>;\r\n  firebaseStorage = app.storage();\r\n  firebaseDb = app.database();\r\n  constructor(\r\n    private afDB: AngularFireDatabase,\r\n    private storage: Storage,\r\n    private globalsProvider: GlobalsProvider,\r\n  ) {}\r\n  // Get organization's image\r\n  getGreetingImage(organizationId: string) {\r\n    return this.firebaseStorage\r\n      .ref()\r\n      .child(`${organizationId}/logo.png`)\r\n      .getDownloadURL();\r\n  }\r\n\r\n  // Adds an event to the event list for the organization\r\n  // Need to add return handling\r\n  addToOrgEventList(event: Event, organizationId: string) {\r\n    // console.log(broadcast);\r\n    this.afDB.list(`/organization/${organizationId}/broadcast/`).push(event);\r\n  }\r\n\r\n  // Accesses the event information by key\r\n  getEventInfo(key: string, organizationId: string) {\r\n    return this.afDB.object<Event>(`/organization/${organizationId}/event/${key}`);\r\n  }\r\n\r\n  // Accesses the event information by key\r\n  getEventInfo2(key: string, organizationId: string) {\r\n    return this.afDB.object<Event>(`/organization/${organizationId}/event/${key}`);\r\n  }\r\n\r\n  // Accesses the event attendingList by key\r\n  getEventAttendingList(key, organizationId) {\r\n    return this.afDB.list(`/organization/${organizationId}/event/${key}/attendingList/`);\r\n  }\r\n\r\n  // Returns the event list for the organization\r\n  getOrgEventList(organizationId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/event/`);\r\n  }\r\n\r\n  // Adds an event to a user's list of events that they are 'going' to\r\n  getUserEventList(uid: string) {\r\n    return this.afDB.list(`/users/${uid}/eventsAttending/`);\r\n  }\r\n\r\n  // Returns the broadcast list for the greekme page\r\n  getBroadcastList(organizationId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/broadcast/`);\r\n  }\r\n\r\n  // Allows watching of a user's avatar to update when appropriate\r\n  getUserAvatar(uid: string) {\r\n    return this.afDB.object(`/users/${uid}/avatarUrl`);\r\n  }\r\n\r\n  addToBroadcastList(broadcast: Post, organizationId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/broadcast/`).push(broadcast).key;\r\n  }\r\n\r\n  // Adds a comment to a broadcast commentList.\r\n  addCommentToBroadcast(broadcast: Post, organizationId: string, key: string) {\r\n    const commentKey = this.afDB\r\n      .list(`/organization/${organizationId}/broadcast/${key}/commentList/`)\r\n      .push(broadcast).key;\r\n    this.firebaseDb\r\n      .ref(`users/${broadcast.uid}/postList/${key}/commentList/${commentKey}`)\r\n      .set(broadcast);\r\n    return commentKey;\r\n  }\r\n\r\n  // Adds a comment to a message commentList\r\n  addCommentToMessage(broadcast: Post, organizationId: string, key: string) {\r\n    const commentKey = this.afDB\r\n      .list(`/organization/${organizationId}/message/${key}/commentList/`)\r\n      .push(broadcast).key;\r\n    this.firebaseDb\r\n      .ref(`users/${broadcast.uid}/postList/${key}/commentList/${commentKey}`)\r\n      .set(broadcast);\r\n    return commentKey;\r\n  }\r\n\r\n  // Returns the feed list for the organization\r\n  getFeedList(organizationId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/message/`);\r\n  }\r\n\r\n  // Adds a feed to the feed list for the organization (Feed uses same structure as broadcast)\r\n  addToFeedList(broadcast: Post, organizationId: string) {\r\n    // console.log(broadcast);\r\n    return this.afDB.list(`/organization/${organizationId}/message/`).push(broadcast).key;\r\n  }\r\n\r\n  // Returns the comments for the broadcast\r\n  getCommentListBroadcast(organizationId: string, broadcastId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/broadcast/${broadcastId}/commentList/`);\r\n  }\r\n\r\n  // Returns the comments for the message\r\n  getCommentListMessage(organizationId: string, messageId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/message/${messageId}/commentList/`);\r\n  }\r\n\r\n  // Return a user's Liked list\r\n  getUserLikeList(uid: string) {\r\n    return this.afDB.list<UserLike>(`/users/${uid}/likeList/`);\r\n  }\r\n\r\n  // Return a user's post list\r\n  getUserPostList(uid: string) {\r\n    return this.afDB.list<Post>(`users/${uid}/postList/`);\r\n  }\r\n\r\n  // Return a user's post list\r\n  getUserEventsAttending(uid: string) {\r\n    return this.afDB.list(`/users/${uid}/eventsAttending/`);\r\n  }\r\n\r\n  getUserDetailsProfilePage(uid: string) {\r\n    return new Promise(resolve => {\r\n      this.firebaseDb\r\n        .ref(`/users/${uid}`)\r\n        .once('value')\r\n        .then(snapshot => {\r\n          resolve(snapshot.val());\r\n        });\r\n    });\r\n  }\r\n\r\n  // 5.0\r\n  getUserDetails(uid: string) {\r\n    return new Promise(async resolve => {\r\n      this.firebaseDb\r\n        .ref(`/users/${uid}`)\r\n        .once('value')\r\n        .then(async snapshot => {\r\n          // Store user details locally\r\n          const user = snapshot.val();\r\n          await this.storage.set('user', JSON.stringify(snapshot.val()));\r\n          resolve(true);\r\n        });\r\n    });\r\n  }\r\n\r\n  // Add new user details to firebase storage\r\n  addUserDetails(userDetails: User) {\r\n    return new Promise(async resolve => {\r\n      userDetails.avatarUrl = this.globalsProvider.DEFAULT_IMAGE_PATH;\r\n      this.afDB.object(`/users/${userDetails.uid}`).set(userDetails);\r\n      await this.storage.set('user', JSON.stringify(userDetails));\r\n      resolve(true);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/firebaseService/firebaseService.ts","import { Injectable } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Post } from '../../models/post';\r\nimport * as Rx from 'rxjs/Rx';\r\n/**\r\n * Created by nicholaskirschke on 8/3/17.\r\n */\r\n@Injectable()\r\nexport class UserServiceProvider {\r\n  notifications = new Map<string, Post>();\r\n  notificationSizeSubject = new Rx.Subject();\r\n  notificationsIcon = 'notifications-outline';\r\n  constructor(private storage: Storage) {}\r\n\r\n  updateNotifications(key, notification) {\r\n    this.notifications.set(key, notification);\r\n    this.notificationSizeSubject.next(this.notifications.size);\r\n  }\r\n\r\n  removeNotification(key) {\r\n    this.notifications.delete(key);\r\n    this.notificationSizeSubject.next(this.notifications.size);\r\n  }\r\n\r\n  currentUserInfo() {\r\n    // Retrieve user information from local storage and return\r\n    return new Promise(resolve => {\r\n      this.storage.get('user').then(res => resolve(JSON.parse(res)));\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/userService/userService.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 305;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 305\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { NavController, LoadingController } from 'ionic-angular';\r\nimport { LoginPage } from '../login/login';\r\nimport { User } from '../../models/user';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { TabsControllerPage } from '../tabs-controller/tabs-controller';\r\nimport * as firebase from 'firebase/app';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n@Component({\r\n  selector: 'page-signup',\r\n  templateUrl: 'signup.html',\r\n})\r\nexport class SignupPage {\r\n  signupForm: FormGroup;\r\n  error;\r\n  // this tells the tabs component which Pages\r\n  // should be each tab's root Page\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    public navCtrl: NavController,\r\n    public firebaseService: FirebaseServiceProvider,\r\n    public loadingCtrl: LoadingController,\r\n    private formBuilder: FormBuilder,\r\n  ) {}\r\n\r\n  ionViewWillLoad() {\r\n    this.signupForm = this.formBuilder.group({\r\n      name: [''],\r\n      email: [''],\r\n      organizationId: [''],\r\n      role: [''],\r\n      password: [''],\r\n    });\r\n  }\r\n\r\n  async register() {\r\n    const user = {\r\n      name: this.signupForm.value.name,\r\n      email: this.signupForm.value.email,\r\n      organizationId: this.signupForm.value.organizationId,\r\n      role: this.signupForm.value.role,\r\n      broadcastNotifications: true,\r\n      feedNotifications: true,\r\n    } as User;\r\n    const loader = this.loadingCtrl.create({\r\n      content: 'Registering...',\r\n      dismissOnPageChange: true,\r\n    });\r\n    try {\r\n      loader.present();\r\n      firebase\r\n        .database()\r\n        .ref(`organization/${user.organizationId}`)\r\n        .once('value')\r\n        .then(snapshot => {\r\n          if (snapshot.val()) {\r\n            this.afAuth.auth\r\n              .createUserWithEmailAndPassword(user.email, this.signupForm.value.password)\r\n              .then(res => {\r\n                user.uid = res.user.uid;\r\n                this.firebaseService.addUserDetails(user).then(() => {\r\n                  this.navCtrl.setRoot(TabsControllerPage);\r\n                });\r\n              })\r\n              .catch((e: Error) => {\r\n                this.errorMessageDigest(e);\r\n              });\r\n          } else {\r\n            throw new Error('Invalid organization code');\r\n          }\r\n        })\r\n        .catch((e: Error) => {\r\n          this.errorMessageDigest(e);\r\n        });\r\n    } finally {\r\n      loader.dismiss();\r\n    }\r\n  }\r\n\r\n  errorMessageDigest(e: Error) {\r\n    const trimmedMessage = /^.*:\\s*(.*)$/.exec(e.message);\r\n    if (trimmedMessage == null) {\r\n      this.error = e.message;\r\n    } else {\r\n      this.error = trimmedMessage[1];\r\n    }\r\n  }\r\n\r\n  goToLogin() {\r\n    this.navCtrl.setRoot(LoginPage, {}, { animate: true, direction: 'back' });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import { Component } from '@angular/core';\r\nimport { NavController, ModalController } from 'ionic-angular';\r\nimport { AngularFireList } from 'angularfire2/database';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { User } from '../../models/user';\r\nimport { Post } from '../../models/post';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport { ComposePostPage } from '../composePost/composePost';\r\nimport { Subscription, Observable } from 'rxjs';\r\nimport { ContentType } from '../../models/contentType';\r\nimport { FcmProvider } from '../../providers/fcm/fcm';\r\nimport { NotificationsPage } from '../notifications/notifications';\r\nimport * as Rx from 'rxjs/Rx';\r\n\r\n@Component({\r\n  selector: 'page-greekme',\r\n  templateUrl: 'greekme.html',\r\n})\r\nexport class GreekMePage {\r\n  user = {} as User;\r\n  validRole = false;\r\n  image = '../../assets/img/8d9YHCdTlOXCBqO65zNP_GM_Master01.png';\r\n  loadCap = 10;\r\n  reserveBroadcasts = [];\r\n  broadcastItemRef: AngularFireList<any>;\r\n  broadcastItems = new Map<string, Post>();\r\n  broadcastItemSubscription: Subscription;\r\n  userLikeListRef: AngularFireList<any>;\r\n  userLikeItems = new Set<string>();\r\n  userLikeSubscription: Subscription;\r\n  notificationsSubscription: Subscription;\r\n  notificationsIcon = 'notifications-outline';\r\n  notificationCount = 0;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public firebaseService: FirebaseServiceProvider,\r\n    private userService: UserServiceProvider,\r\n    private modalController: ModalController,\r\n    private fcm: FcmProvider,\r\n  ) {}\r\n\r\n  async dataSetup() {\r\n    try {\r\n      // Setup the user's details and aqcuire the references to the data in firebase\r\n      const userGrab = await this.userService.currentUserInfo();\r\n      this.user = userGrab as User;\r\n      this.userLikeListRef = this.firebaseService.getUserLikeList(this.user.uid);\r\n      this.broadcastItemRef = this.firebaseService.getBroadcastList(this.user.organizationId);\r\n      // Validates whether or not the user can make broadcasts\r\n      if (this.isValidBroadcastRole()) {\r\n        this.validRole = true;\r\n      }\r\n      const imageGrab = await this.firebaseService.getGreetingImage(this.user.organizationId);\r\n      this.image = imageGrab ? imageGrab : 'assets/img/8d9YHCdTlOXCBqO65zNP_GM_Master01.png';\r\n      this.buildSubscriptions();\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  isValidBroadcastRole() {\r\n    return (\r\n      this.user.role === 'President' ||\r\n      this.user.role === 'Vice President' ||\r\n      this.user.role === 'Chair Member'\r\n    );\r\n  }\r\n\r\n  buildSubscriptions() {\r\n    let broadcast: Post;\r\n    let broadcastCounter = 0;\r\n    // Subscriptions for handling the user's likes and the broadcasts on the page\r\n    // Data is passed into a Set\r\n    this.userLikeSubscription = this.userLikeListRef.stateChanges().subscribe(action => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        this.userLikeItems.add(action.key);\r\n      } else if (action.type === 'child_removed') {\r\n        this.userLikeItems.delete(action.key);\r\n      }\r\n    });\r\n\r\n    this.broadcastItemSubscription = this.broadcastItemRef.stateChanges().subscribe(action => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        broadcast = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName: this.userLikeItems.has(action.key) ? 'heart' : 'heart-outline',\r\n        };\r\n        this.broadcastItems.set(broadcast.key, broadcast);\r\n        broadcastCounter += 1;\r\n      } else if (action.type === 'child_changed') {\r\n        const iconName = this.userLikeItems.has(action.key) ? 'heart' : 'heart-outline';\r\n        const previousBroadcast = this.broadcastItems.get(action.key);\r\n        // Construct the replacement broadcast\r\n        broadcast = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName,\r\n        };\r\n\r\n        Object.keys(previousBroadcast).forEach(aProperty => {\r\n          if (!broadcast[aProperty]) {\r\n            previousBroadcast[aProperty] = null;\r\n          } else if (previousBroadcast[aProperty] !== broadcast[aProperty]) {\r\n            previousBroadcast[aProperty] = broadcast[aProperty];\r\n          }\r\n        });\r\n        Object.keys(broadcast).forEach(aProperty => {\r\n          if (!previousBroadcast[aProperty]) {\r\n            previousBroadcast[aProperty] = broadcast[aProperty];\r\n          }\r\n        });\r\n      }\r\n    });\r\n    this.notificationsSubscription = this.userService.notificationSizeSubject.subscribe({\r\n      next: size => {\r\n        if (size > 0) {\r\n          this.notificationsIcon = 'notifications';\r\n        } else {\r\n          this.notificationsIcon = 'notifications-outline';\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.userLikeSubscription.unsubscribe();\r\n    this.broadcastItemSubscription.unsubscribe();\r\n    this.notificationsSubscription.unsubscribe();\r\n  }\r\n\r\n  goToComposeBroadcast() {\r\n    const myModal = this.modalController.create(ComposePostPage, {\r\n      contentType: ContentType.Broadcast,\r\n    });\r\n    myModal.present();\r\n  }\r\n\r\n  goToNotifications() {\r\n    const myModal = this.modalController.create(NotificationsPage);\r\n    myModal.present();\r\n  }\r\n\r\n  trackByFn(index: number, item: Post) {\r\n    return item.key;\r\n  }\r\n\r\n  doInfinite(infiniteScroll) {\r\n    console.log('Begin async operation');\r\n    setTimeout(() => {\r\n      while (this.reserveBroadcasts.length > 0) {\r\n        const tempBroadcast = this.reserveBroadcasts.shift();\r\n        this.broadcastItems.set(tempBroadcast.key, tempBroadcast);\r\n      }\r\n      console.log('Async operation has ended');\r\n      infiniteScroll.complete();\r\n      // tslint:disable-next-line:align\r\n    }, 500);\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.destroySubscriptions();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/greekme/greekme.ts","import { Component } from '@angular/core';\r\nimport { NavController, ModalController } from 'ionic-angular';\r\nimport { AngularFireList } from 'angularfire2/database';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { User } from '../../models/user';\r\nimport { Post } from '../../models/post';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport 'firebase/storage';\r\nimport { ComposePostPage } from '../composePost/composePost';\r\nimport { ContentType } from '../../models/contentType';\r\nimport { Subscription } from 'rxjs';\r\nimport { NotificationsPage } from '../notifications/notifications';\r\n\r\n@Component({\r\n  selector: 'page-feed',\r\n  templateUrl: 'feed.html',\r\n})\r\nexport class FeedPage {\r\n  user = {} as User;\r\n  messageItemRef: AngularFireList<any>;\r\n  messageItems: Map<string, Post> = new Map<string, Post>();\r\n  messageItemSubscription: Subscription;\r\n  userLikeListRef: AngularFireList<any>;\r\n  userLikeItems: Set<string> = new Set<string>();\r\n  userLikeSubscription: Subscription;\r\n  notificationsSubscription: Subscription;\r\n  notificationsIcon = 'notifications-outline';\r\n\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    public navCtrl: NavController,\r\n    public firebaseService: FirebaseServiceProvider,\r\n    private userService: UserServiceProvider,\r\n    private modalController: ModalController,\r\n  ) {}\r\n\r\n  goToComposeFeed() {\r\n    const myModal = this.modalController.create(ComposePostPage, {\r\n      contentType: ContentType.Message,\r\n    });\r\n    myModal.present();\r\n  }\r\n\r\n  async dataSetup() {\r\n    // Setup the user's data and retrieve the data references in firebase\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n    this.userLikeListRef = this.firebaseService.getUserLikeList(this.user.uid);\r\n    this.messageItemRef = this.firebaseService.getFeedList(this.user.organizationId);\r\n    this.buildSubscriptions();\r\n  }\r\n\r\n  buildSubscriptions() {\r\n    let message: Post;\r\n    // Subscriptions for handling the user's likes and the broadcasts on the page\r\n    // Data is passed into a Set\r\n    this.userLikeSubscription = this.userLikeListRef.stateChanges().subscribe(action => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        this.userLikeItems.add(action.key);\r\n      } else if (action.type === 'child_removed') {\r\n        this.userLikeItems.delete(action.key);\r\n      }\r\n    });\r\n\r\n    // Message data is stored in a Map\r\n    this.messageItemSubscription = this.messageItemRef.stateChanges().subscribe(action => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        message = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName: this.userLikeItems.has(action.key) ? 'heart' : 'heart-outline',\r\n        };\r\n        this.messageItems.set(message.key, message);\r\n      } else if (action.type === 'child_changed') {\r\n        const previousMessage = this.messageItems.get(action.key);\r\n        const iconName = this.userLikeItems.has(action.key) ? 'heart' : 'heart-outline';\r\n        // Construct the replacement message\r\n        message = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName,\r\n        };\r\n        Object.keys(previousMessage).forEach(aProperty => {\r\n          if (!message[aProperty]) {\r\n            previousMessage[aProperty] = null;\r\n          } else if (previousMessage[aProperty] !== message[aProperty]) {\r\n            previousMessage[aProperty] = message[aProperty];\r\n          }\r\n        });\r\n        Object.keys(message).forEach(aProperty => {\r\n          if (!previousMessage[aProperty]) {\r\n            previousMessage[aProperty] = message[aProperty];\r\n          }\r\n        });\r\n      }\r\n    });\r\n    this.notificationsSubscription = this.userService.notificationSizeSubject.subscribe({\r\n      next: size => {\r\n        if (size > 0) {\r\n          this.notificationsIcon = 'notifications';\r\n        } else {\r\n          this.notificationsIcon = 'notifications-outline';\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    this.afAuth.auth.signOut();\r\n  }\r\n\r\n  trackByFn(index: number, item: Post) {\r\n    return item.key;\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.userLikeSubscription.unsubscribe();\r\n    this.messageItemSubscription.unsubscribe();\r\n    this.notificationsSubscription.unsubscribe();\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.destroySubscriptions();\r\n  }\r\n\r\n  goToNotifications() {\r\n    const myModal = this.modalController.create(NotificationsPage);\r\n    myModal.present();\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    this.dataSetup();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feed/feed.ts","import { AngularFireList } from 'angularfire2/database';\r\nexport interface Event {\r\n  key: string;\r\n  creator: string;\r\n  creatorUid: string;\r\n  name: string;\r\n  date: any;\r\n  location: string;\r\n  info: string;\r\n  attendingList: AngularFireList<any[]>;\r\n  repeat: Repeat;\r\n}\r\nexport enum Repeat {\r\n    Never = 'Never',\r\n    Daily = 'Daily',\r\n    Weekly = 'Weekly',\r\n    Biweekly = 'Biweekly',\r\n    Monthly = 'Monthly',\r\n    Yearly = 'Yearly',\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event.ts","import { Component } from '@angular/core';\r\nimport { ViewController, NavParams } from 'ionic-angular';\r\n\r\n/**\r\n * Generated class for the PopOverComponent component.\r\n *\r\n * See https://angular.io/api/core/Component for more info on Angular\r\n * Components.\r\n */\r\n@Component({\r\n  selector: 'pop-over',\r\n  templateUrl: 'pop-over.html',\r\n})\r\nexport class PopOverComponent {\r\n  items: any;\r\n  constructor(public viewCtrl: ViewController, public navParams: NavParams) {\r\n    this.items = this.navParams.get('items');\r\n  }\r\n\r\n  itemClick(item) {\r\n    this.viewCtrl.dismiss(item);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/pop-over/pop-over.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport {\r\n  NavController,\r\n  NavParams,\r\n  ViewController,\r\n  ActionSheetController,\r\n  LoadingController,\r\n} from 'ionic-angular';\r\nimport { User } from '../../models/user';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { storage } from 'firebase';\r\nimport * as firebase from 'firebase/app';\r\nimport { Storage } from '@ionic/storage';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'page-editProfile',\r\n  templateUrl: 'editProfile.html',\r\n})\r\nexport class EditProfilePage {\r\n  @ViewChild('bio') bio: ElementRef;\r\n  user = {} as User;\r\n  avatar = '' as string;\r\n  photoChanged: boolean = false;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    private navParams: NavParams,\r\n    private view: ViewController,\r\n    private camera: Camera,\r\n    private storage: Storage,\r\n    public actionSheetCtrl: ActionSheetController,\r\n    public loadingCtrl: LoadingController,\r\n  ) {}\r\n\r\n  async ionViewWillEnter() {\r\n    this.user = JSON.parse(this.navParams.data.user);\r\n    this.avatar = this.navParams.data.avatar;\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.resize();\r\n  }\r\n\r\n  async photoMenu() {\r\n    const actionSheet = this.actionSheetCtrl.create({\r\n      enableBackdropDismiss: true,\r\n      buttons: [\r\n        {\r\n          text: 'Take a Photo',\r\n          handler: () => {\r\n            this.choosePhoto(1);\r\n          },\r\n        },\r\n        {\r\n          text: 'Camera Roll',\r\n          handler: () => {\r\n            this.choosePhoto(0);\r\n          },\r\n        },\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n        },\r\n      ],\r\n    });\r\n    actionSheet.present();\r\n  }\r\n\r\n  async choosePhoto(aSourceType: number) {\r\n    const loader = this.loadingCtrl.create({\r\n      content: 'Loading photo...',\r\n    });\r\n    try {\r\n      const options: CameraOptions = {\r\n        quality: 50,\r\n        targetHeight: 1000,\r\n        targetWidth: 1000,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        sourceType: aSourceType,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        correctOrientation: true,\r\n      };\r\n\r\n      const result = await this.camera.getPicture(options);\r\n      loader.present();\r\n      const image = `data:image/jpeg;base64,${result}`;\r\n      this.avatar = image;\r\n      loader.dismiss();\r\n      this.photoChanged = true;\r\n    } catch (error) {\r\n      console.log('ERROR', error.code);\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    this.bio.nativeElement.style.height = 'auto';\r\n    this.bio.nativeElement.style.height = `${this.bio.nativeElement.scrollHeight}px`;\r\n  }\r\n\r\n  async updateProfile() {\r\n    try {\r\n      const data = {\r\n        user: JSON.stringify(this.user),\r\n        avatar: this.avatar,\r\n      };\r\n      if (this.photoChanged) {\r\n        const pictures = storage().ref(\r\n          `${this.user.organizationId}/profilePhotos/${this.user.uid}`,\r\n        );\r\n        await pictures.putString(this.avatar, 'data_url');\r\n        this.user.avatarUrl = moment().toISOString();\r\n      }\r\n      await firebase\r\n        .database()\r\n        .ref(`users/${this.user.uid}/`)\r\n        .set(this.user);\r\n      await this.storage.set('user', JSON.stringify(this.user));\r\n      this.view.dismiss(data);\r\n    } catch (error) {\r\n      console.log('ERROR', error.code);\r\n    }\r\n  }\r\n\r\n  closeModal() {\r\n    this.view.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/editProfile/editProfile.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { User } from '../../models/user';\r\nimport firebase from 'firebase';\r\nimport { Storage } from '@ionic/storage';\r\nimport * as admin from 'firebase-admin';\r\nimport { AngularFirestore } from 'angularfire2/firestore';\r\n/**\r\n * Generated class for the SettingsPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: 'page-settings',\r\n  templateUrl: 'settings.html',\r\n})\r\nexport class SettingsPage {\r\n  user = {} as User;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private view: ViewController,\r\n    private storage: Storage,\r\n    private afs: AngularFirestore,\r\n  ) {}\r\n\r\n  async ionViewWillEnter() {\r\n    this.user = JSON.parse(this.navParams.data.user);\r\n  }\r\n\r\n  async updateSettings() {\r\n    try {\r\n      const data = {\r\n        user: JSON.stringify(this.user),\r\n      };\r\n      // Get all the devices and then reduce the devices to the ones that only relate to this user\r\n      // Then update his notification settings\r\n\r\n      const deviceRef = this.afs.firestore.collection(this.user.organizationId);\r\n      const query = deviceRef.where('userId', '==', this.user.uid);\r\n      const res = await query.get();\r\n      const batch = this.afs.firestore.batch();\r\n      res.forEach(device => {\r\n        batch.update(deviceRef.doc(device.id), {\r\n          broadcastNotifications: this.user.broadcastNotifications,\r\n          feedNotifications: this.user.feedNotifications,\r\n        });\r\n      });\r\n      const batchCommit = batch.commit();\r\n      const userUpdate = firebase\r\n        .database()\r\n        .ref(`users/${this.user.uid}/`)\r\n        .set(this.user);\r\n      const localUserUpdate = this.storage.set('user', JSON.stringify(this.user));\r\n      await batchCommit;\r\n      await userUpdate;\r\n      await localUserUpdate;\r\n      this.view.dismiss(data);\r\n    } catch (error) {\r\n      console.log('ERROR', error.code);\r\n    }\r\n  }\r\n\r\n  closeModal() {\r\n    this.view.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { NavParams, ViewController } from 'ionic-angular';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { User } from '../../models/user';\r\nimport { Post } from '../../models/post';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport 'firebase/storage';\r\nimport * as moment from 'moment';\r\nimport { ContentType } from '../../models/contentType';\r\nimport app from 'firebase/app';\r\n\r\n@Component({\r\n  selector: 'page-composeThread',\r\n  templateUrl: 'composeThread.html',\r\n})\r\nexport class ComposeThreadPage {\r\n  @ViewChild('comment') comment: ElementRef;\r\n  contentType: ContentType;\r\n  user = {} as User;\r\n  tempPost = {} as Post;\r\n  error: string = '';\r\n  postKey: string = '';\r\n  constructor(\r\n    private firebaseService: FirebaseServiceProvider,\r\n    private userService: UserServiceProvider,\r\n    private navParams: NavParams,\r\n    private view: ViewController,\r\n  ) {}\r\n\r\n  ionViewWillEnter() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    const data = this.navParams.data;\r\n    this.postKey = data.key;\r\n    this.contentType = data.contentType;\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n  }\r\n\r\n  composeThread(tempPost: Post) {\r\n    if (tempPost.text == null || tempPost.text === '') {\r\n      this.error = 'Message cannot be blank!';\r\n    } else {\r\n      this.error = '';\r\n      tempPost.avatarUrl = this.user.avatarUrl;\r\n      tempPost.uid = this.user.uid;\r\n      tempPost.name = this.user.name;\r\n      tempPost.date = moment().toISOString();\r\n      tempPost.contentType = ContentType.Thread;\r\n      if (this.contentType === ContentType.Broadcast) {\r\n        tempPost.key = this.firebaseService.addCommentToBroadcast(\r\n          tempPost,\r\n          this.user.organizationId,\r\n          this.postKey,\r\n        );\r\n      } else if (this.contentType === ContentType.Message) {\r\n        tempPost.key = this.firebaseService.addCommentToMessage(\r\n          tempPost,\r\n          this.user.organizationId,\r\n          this.postKey,\r\n        );\r\n      }\r\n      if (tempPost.key) {\r\n        this.view.dismiss();\r\n      } else {\r\n        // Add logging here\r\n        this.error = 'Key not initialized error with ContentType';\r\n      }\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    this.comment.nativeElement.style.height = 'auto';\r\n    this.comment.nativeElement.style.height = `${this.comment.nativeElement.scrollHeight}px`;\r\n  }\r\n\r\n  closeModal() {\r\n    this.view.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/composeThread/composeThread.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\nimport 'rxjs/add/operator/take';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\nimport { GreekMePage } from '../pages/greekme/greekme';\r\nimport { FeedPage } from '../pages/feed/feed';\r\nimport { EventsPage } from '../pages/events/events';\r\nimport { TabsControllerPage } from '../pages/tabs-controller/tabs-controller';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { SignupPage } from '../pages/signup/signup';\r\nimport { ProfilePage } from '../pages/profile/profile';\r\nimport { ComposePostPage } from '../pages/composePost/composePost';\r\nimport { CreateEventPage } from '../pages/createEvent/createEvent';\r\nimport { EditProfilePage } from '../pages/editProfile/editProfile';\r\nimport { ThreadPage } from '../pages/thread/thread';\r\nimport { ComposeThreadPage } from '../pages/composeThread/composeThread';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { FirebaseServiceProvider } from '../providers/firebaseService/firebaseService';\r\nimport { HttpModule } from '@angular/http';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { FIREBASE_CONST } from './app.firebase.config';\r\nimport { AngularFireAuthModule } from 'angularfire2/auth';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { UserServiceProvider } from '../providers/userService/userService';\r\nimport { MomentModule } from 'angular2-moment';\r\nimport { EventViewPage } from '../pages/eventView/eventView';\r\nimport { NgPipesModule } from 'ngx-pipes';\r\nimport { PostRowComponent } from '../components/post-row/post-row';\r\nimport { PopOverComponent } from '../components/pop-over/pop-over';\r\nimport { PipesModule } from '../pipes/pipes.module';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { PhotoLibrary } from '@ionic-native/photo-library';\r\nimport { FcmProvider } from '../providers/fcm/fcm';\r\nimport { Firebase } from '@ionic-native/firebase';\r\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\r\nimport { SettingsPage } from '../pages/settings/settings';\r\nimport { NotificationsPage } from '../pages/notifications/notifications';\r\nimport { NotificationRowComponent } from '../components/notification-row/notification-row';\r\nimport { GlobalsProvider } from '../providers/globals/globals';\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    GreekMePage,\r\n    FeedPage,\r\n    EventsPage,\r\n    TabsControllerPage,\r\n    LoginPage,\r\n    SignupPage,\r\n    ProfilePage,\r\n    ComposePostPage,\r\n    CreateEventPage,\r\n    EditProfilePage,\r\n    ThreadPage,\r\n    EventViewPage,\r\n    ComposeThreadPage,\r\n    PostRowComponent,\r\n    PopOverComponent,\r\n    SettingsPage,\r\n    NotificationsPage,\r\n    NotificationRowComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpModule,\r\n    AngularFireDatabaseModule,\r\n    AngularFireAuthModule,\r\n    AngularFirestoreModule,\r\n    AngularFireModule.initializeApp(FIREBASE_CONST),\r\n    IonicModule.forRoot(MyApp),\r\n    IonicStorageModule.forRoot(),\r\n    MomentModule,\r\n    NgPipesModule,\r\n    PipesModule,\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    GreekMePage,\r\n    FeedPage,\r\n    EventsPage,\r\n    TabsControllerPage,\r\n    LoginPage,\r\n    SignupPage,\r\n    ProfilePage,\r\n    ComposePostPage,\r\n    CreateEventPage,\r\n    EditProfilePage,\r\n    ThreadPage,\r\n    EventViewPage,\r\n    ComposeThreadPage,\r\n    PostRowComponent,\r\n    PopOverComponent,\r\n    SettingsPage,\r\n    NotificationsPage,\r\n    NotificationRowComponent,\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    Camera,\r\n    PhotoLibrary,\r\n    Firebase,\r\n    FcmProvider,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\r\n    FirebaseServiceProvider,\r\n    UserServiceProvider,\r\n    GlobalsProvider,\r\n  ],\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, Injectable, ViewChild } from '@angular/core';\r\nimport { Platform, Nav } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { FcmProvider } from '../providers/fcm/fcm';\r\nimport { tap } from 'rxjs/operators';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { FirebaseServiceProvider } from '../providers/firebaseService/firebaseService';\r\nimport { TabsControllerPage } from '../pages/tabs-controller/tabs-controller';\r\nimport { UserServiceProvider } from '../providers/userService/userService';\r\nimport { Post } from '../models/post';\r\nimport { Subscription, timer } from 'rxjs';\r\n\r\n@Injectable()\r\n@Component({\r\n  templateUrl: 'app.html',\r\n})\r\nexport class MyApp {\r\n  rootPage: any = LoginPage;\r\n  @ViewChild(Nav) nav: Nav;\r\n  notificationSubscription: Subscription;\r\n  showSplash = true;\r\n  constructor(\r\n    private platform: Platform,\r\n    statusBar: StatusBar,\r\n    splashScreen: SplashScreen,\r\n    private fcm: FcmProvider,\r\n    afAuth: AngularFireAuth,\r\n    firebaseService: FirebaseServiceProvider,\r\n    userService: UserServiceProvider,\r\n  ) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n      // timer(2000).subscribe(() => this.showSplash = false);\r\n      this.notificationSubscription = new Subscription();\r\n      // If user is logged in retrieve uid then access user info from db..\r\n      afAuth.authState.subscribe(data => {\r\n        if (data) {\r\n          firebaseService.getUserDetails(data.uid).then(async () => {\r\n            try {\r\n              if (this.platform.is('cordova')) {\r\n                console.log('cordova');\r\n                await this.fcm.getToken();\r\n                this.notificationSubscription = this.fcm\r\n                  .listenToNotifications()\r\n                  .pipe(\r\n                    tap(notification => {\r\n                      const aNotification = {\r\n                        name: notification.name,\r\n                        key: notification.key,\r\n                        contentType: notification.contentType,\r\n                        date: notification.date,\r\n                        text: notification.message,\r\n                        avatarUrl: notification.avatarUrl,\r\n                        uid: notification.uid,\r\n                      } as Post;\r\n                      userService.updateNotifications(notification.key, aNotification);\r\n                    }),\r\n                  )\r\n                  .subscribe();\r\n              }\r\n            } catch (e) {\r\n              console.log(e);\r\n            }\r\n            this.nav.setRoot(TabsControllerPage);\r\n          });\r\n        } else {\r\n          if (this.platform.is('cordova')) {\r\n            this.notificationSubscription.unsubscribe();\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\n/**\r\n * Global variables used through the solution\r\n * DEFAULT_IMAGE_PATH: 'assets/icon/GMIcon.png'\r\n */\r\nexport class GlobalsProvider {\r\n  DEFAULT_IMAGE_PATH = 'assets/icon/GMIcon.png';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/globals/globals.ts","var map = {\n\t\"./af\": 387,\n\t\"./af.js\": 387,\n\t\"./ar\": 388,\n\t\"./ar-dz\": 389,\n\t\"./ar-dz.js\": 389,\n\t\"./ar-kw\": 390,\n\t\"./ar-kw.js\": 390,\n\t\"./ar-ly\": 391,\n\t\"./ar-ly.js\": 391,\n\t\"./ar-ma\": 392,\n\t\"./ar-ma.js\": 392,\n\t\"./ar-sa\": 393,\n\t\"./ar-sa.js\": 393,\n\t\"./ar-tn\": 394,\n\t\"./ar-tn.js\": 394,\n\t\"./ar.js\": 388,\n\t\"./az\": 395,\n\t\"./az.js\": 395,\n\t\"./be\": 396,\n\t\"./be.js\": 396,\n\t\"./bg\": 397,\n\t\"./bg.js\": 397,\n\t\"./bm\": 398,\n\t\"./bm.js\": 398,\n\t\"./bn\": 399,\n\t\"./bn.js\": 399,\n\t\"./bo\": 400,\n\t\"./bo.js\": 400,\n\t\"./br\": 401,\n\t\"./br.js\": 401,\n\t\"./bs\": 402,\n\t\"./bs.js\": 402,\n\t\"./ca\": 403,\n\t\"./ca.js\": 403,\n\t\"./cs\": 404,\n\t\"./cs.js\": 404,\n\t\"./cv\": 405,\n\t\"./cv.js\": 405,\n\t\"./cy\": 406,\n\t\"./cy.js\": 406,\n\t\"./da\": 407,\n\t\"./da.js\": 407,\n\t\"./de\": 408,\n\t\"./de-at\": 409,\n\t\"./de-at.js\": 409,\n\t\"./de-ch\": 410,\n\t\"./de-ch.js\": 410,\n\t\"./de.js\": 408,\n\t\"./dv\": 411,\n\t\"./dv.js\": 411,\n\t\"./el\": 412,\n\t\"./el.js\": 412,\n\t\"./en-au\": 413,\n\t\"./en-au.js\": 413,\n\t\"./en-ca\": 414,\n\t\"./en-ca.js\": 414,\n\t\"./en-gb\": 415,\n\t\"./en-gb.js\": 415,\n\t\"./en-ie\": 416,\n\t\"./en-ie.js\": 416,\n\t\"./en-il\": 417,\n\t\"./en-il.js\": 417,\n\t\"./en-nz\": 418,\n\t\"./en-nz.js\": 418,\n\t\"./eo\": 419,\n\t\"./eo.js\": 419,\n\t\"./es\": 420,\n\t\"./es-do\": 421,\n\t\"./es-do.js\": 421,\n\t\"./es-us\": 422,\n\t\"./es-us.js\": 422,\n\t\"./es.js\": 420,\n\t\"./et\": 423,\n\t\"./et.js\": 423,\n\t\"./eu\": 424,\n\t\"./eu.js\": 424,\n\t\"./fa\": 425,\n\t\"./fa.js\": 425,\n\t\"./fi\": 426,\n\t\"./fi.js\": 426,\n\t\"./fo\": 427,\n\t\"./fo.js\": 427,\n\t\"./fr\": 428,\n\t\"./fr-ca\": 429,\n\t\"./fr-ca.js\": 429,\n\t\"./fr-ch\": 430,\n\t\"./fr-ch.js\": 430,\n\t\"./fr.js\": 428,\n\t\"./fy\": 431,\n\t\"./fy.js\": 431,\n\t\"./gd\": 432,\n\t\"./gd.js\": 432,\n\t\"./gl\": 433,\n\t\"./gl.js\": 433,\n\t\"./gom-latn\": 434,\n\t\"./gom-latn.js\": 434,\n\t\"./gu\": 435,\n\t\"./gu.js\": 435,\n\t\"./he\": 436,\n\t\"./he.js\": 436,\n\t\"./hi\": 437,\n\t\"./hi.js\": 437,\n\t\"./hr\": 438,\n\t\"./hr.js\": 438,\n\t\"./hu\": 439,\n\t\"./hu.js\": 439,\n\t\"./hy-am\": 440,\n\t\"./hy-am.js\": 440,\n\t\"./id\": 441,\n\t\"./id.js\": 441,\n\t\"./is\": 442,\n\t\"./is.js\": 442,\n\t\"./it\": 443,\n\t\"./it.js\": 443,\n\t\"./ja\": 444,\n\t\"./ja.js\": 444,\n\t\"./jv\": 445,\n\t\"./jv.js\": 445,\n\t\"./ka\": 446,\n\t\"./ka.js\": 446,\n\t\"./kk\": 447,\n\t\"./kk.js\": 447,\n\t\"./km\": 448,\n\t\"./km.js\": 448,\n\t\"./kn\": 449,\n\t\"./kn.js\": 449,\n\t\"./ko\": 450,\n\t\"./ko.js\": 450,\n\t\"./ku\": 451,\n\t\"./ku.js\": 451,\n\t\"./ky\": 452,\n\t\"./ky.js\": 452,\n\t\"./lb\": 453,\n\t\"./lb.js\": 453,\n\t\"./lo\": 454,\n\t\"./lo.js\": 454,\n\t\"./lt\": 455,\n\t\"./lt.js\": 455,\n\t\"./lv\": 456,\n\t\"./lv.js\": 456,\n\t\"./me\": 457,\n\t\"./me.js\": 457,\n\t\"./mi\": 458,\n\t\"./mi.js\": 458,\n\t\"./mk\": 459,\n\t\"./mk.js\": 459,\n\t\"./ml\": 460,\n\t\"./ml.js\": 460,\n\t\"./mn\": 461,\n\t\"./mn.js\": 461,\n\t\"./mr\": 462,\n\t\"./mr.js\": 462,\n\t\"./ms\": 463,\n\t\"./ms-my\": 464,\n\t\"./ms-my.js\": 464,\n\t\"./ms.js\": 463,\n\t\"./mt\": 465,\n\t\"./mt.js\": 465,\n\t\"./my\": 466,\n\t\"./my.js\": 466,\n\t\"./nb\": 467,\n\t\"./nb.js\": 467,\n\t\"./ne\": 468,\n\t\"./ne.js\": 468,\n\t\"./nl\": 469,\n\t\"./nl-be\": 470,\n\t\"./nl-be.js\": 470,\n\t\"./nl.js\": 469,\n\t\"./nn\": 471,\n\t\"./nn.js\": 471,\n\t\"./pa-in\": 472,\n\t\"./pa-in.js\": 472,\n\t\"./pl\": 473,\n\t\"./pl.js\": 473,\n\t\"./pt\": 474,\n\t\"./pt-br\": 475,\n\t\"./pt-br.js\": 475,\n\t\"./pt.js\": 474,\n\t\"./ro\": 476,\n\t\"./ro.js\": 476,\n\t\"./ru\": 477,\n\t\"./ru.js\": 477,\n\t\"./sd\": 478,\n\t\"./sd.js\": 478,\n\t\"./se\": 479,\n\t\"./se.js\": 479,\n\t\"./si\": 480,\n\t\"./si.js\": 480,\n\t\"./sk\": 481,\n\t\"./sk.js\": 481,\n\t\"./sl\": 482,\n\t\"./sl.js\": 482,\n\t\"./sq\": 483,\n\t\"./sq.js\": 483,\n\t\"./sr\": 484,\n\t\"./sr-cyrl\": 485,\n\t\"./sr-cyrl.js\": 485,\n\t\"./sr.js\": 484,\n\t\"./ss\": 486,\n\t\"./ss.js\": 486,\n\t\"./sv\": 487,\n\t\"./sv.js\": 487,\n\t\"./sw\": 488,\n\t\"./sw.js\": 488,\n\t\"./ta\": 489,\n\t\"./ta.js\": 489,\n\t\"./te\": 490,\n\t\"./te.js\": 490,\n\t\"./tet\": 491,\n\t\"./tet.js\": 491,\n\t\"./tg\": 492,\n\t\"./tg.js\": 492,\n\t\"./th\": 493,\n\t\"./th.js\": 493,\n\t\"./tl-ph\": 494,\n\t\"./tl-ph.js\": 494,\n\t\"./tlh\": 495,\n\t\"./tlh.js\": 495,\n\t\"./tr\": 496,\n\t\"./tr.js\": 496,\n\t\"./tzl\": 497,\n\t\"./tzl.js\": 497,\n\t\"./tzm\": 498,\n\t\"./tzm-latn\": 499,\n\t\"./tzm-latn.js\": 499,\n\t\"./tzm.js\": 498,\n\t\"./ug-cn\": 500,\n\t\"./ug-cn.js\": 500,\n\t\"./uk\": 501,\n\t\"./uk.js\": 501,\n\t\"./ur\": 502,\n\t\"./ur.js\": 502,\n\t\"./uz\": 503,\n\t\"./uz-latn\": 504,\n\t\"./uz-latn.js\": 504,\n\t\"./uz.js\": 503,\n\t\"./vi\": 505,\n\t\"./vi.js\": 505,\n\t\"./x-pseudo\": 506,\n\t\"./x-pseudo.js\": 506,\n\t\"./yo\": 507,\n\t\"./yo.js\": 507,\n\t\"./zh-cn\": 508,\n\t\"./zh-cn.js\": 508,\n\t\"./zh-hk\": 509,\n\t\"./zh-hk.js\": 509,\n\t\"./zh-tw\": 510,\n\t\"./zh-tw.js\": 510\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 989;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 989\n// module chunks = 0","export const FIREBASE_CONST = {\r\n  apiKey: 'AIzaSyA2Da_Ed0libe9E_dOohYLH5HGWYKPgQqs',\r\n  authDomain: 'greekme-7475a.firebaseapp.com',\r\n  databaseURL: 'https://greekme-7475a.firebaseio.com',\r\n  projectId: 'greekme-7475a',\r\n  storageBucket: 'greekme-7475a.appspot.com',\r\n  messagingSenderId: '50593623850',\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.firebase.config.ts"],"sourceRoot":""}