{"version":3,"sources":["../../src/pages/tabs-controller/tabs-controller.ts","../../src/pages/composePost/composePost.ts","../../src/pages/events/events.ts","../../src/pages/createEvent/createEvent.ts","../../src/pages/eventView/eventView.ts","../../src/pages/profile/profile.ts","../../node_modules/@angular/core/fesm5 lazy","../../src/providers/firebaseService/firebaseService.ts","../../src lazy","../../src/pages/signup/signup.ts","../../src/pages/greekme/greekme.ts","../../src/providers/userService/userService.ts","../../src/pages/feed/feed.ts","../../src/models/event.ts","../../src/components/pop-over/pop-over.ts","../../src/pages/editProfile/editProfile.ts","../../src/pages/thread/thread.ts","../../src/pages/composeThread/composeThread.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../node_modules/moment/locale ^/.*$","../../src/app/app.firebase.config.ts","../../src/components/post-row/post-row.ts","../../src/pipes/pipes.module.ts","../../src/pipes/iterable/iterable.ts","../../src/models/contentType.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wB;;;;;;;;;ACtQO,IAAM,cAAc,GAAG;IAC5B,MAAM,EAAE,yCAAyC;IACjD,UAAU,EAAE,+BAA+B;IAC3C,WAAW,EAAE,sCAAsC;IACnD,SAAS,EAAE,eAAe;IAC1B,aAAa,EAAE,2BAA2B;IAC1C,iBAAiB,EAAE,aAAa;CACjC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACP+C;AAER;AAGK;AACY;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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { GreekMePage } from '../greekme/greekme';\r\nimport { FeedPage } from '../feed/feed';\r\nimport { EventsPage } from '../events/events';\r\nimport { ProfilePage } from '../profile/profile';\r\n\r\n@Component({\r\n  selector: 'page-tabs-controller',\r\n  templateUrl: 'tabs-controller.html',\r\n})\r\nexport class TabsControllerPage {\r\n  // this tells the tabs component which Pages\r\n  // should be each tab's root Page\r\n  tab1Root: any = GreekMePage;\r\n  tab2Root: any = FeedPage;\r\n  tab3Root: any = EventsPage;\r\n  tab4Root: any = ProfilePage;\r\n  constructor(public navCtrl: NavController) {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs-controller/tabs-controller.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { NavParams, ViewController } from 'ionic-angular';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { User } from '../../models/user';\r\nimport { Post } from '../../models/post';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport * as moment from 'moment';\r\nimport { ContentType } from '../../models/contentType';\r\n\r\n@Component({\r\n  selector: 'page-composePost',\r\n  templateUrl: 'composePost.html',\r\n})\r\nexport class ComposePostPage {\r\n  @ViewChild('post') post: ElementRef;\r\n  contentType: ContentType;\r\n  firebaseStorage = firebase.storage();\r\n  user = {} as User;\r\n  tempPost = {} as Post;\r\n  error = '';\r\n  contentMessage = '' as string;\r\n  constructor(public firebaseService: FirebaseServiceProvider,\r\n              private userService: UserServiceProvider,\r\n              private navParams: NavParams,\r\n              private view: ViewController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    this.contentType = this.navParams.get('contentType');\r\n    this.contentMessage = this.contentType === ContentType.Broadcast ?\r\n     'Compose a broadcast' : 'Compose a message';\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n  }\r\n\r\n  updatePostList(tempPost: Post) {\r\n    const updates = {};\r\n    updates[`/users/${this.user.uid}/postList/${tempPost.key}`] = tempPost;\r\n    firebase.database().ref().update(updates).then(() => {\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  composePost(tempPost: Post) {\r\n    if (tempPost.text == null || tempPost.text === '') {\r\n      this.error = 'Message cannot be blank!';\r\n    } else {\r\n      this.error = '';\r\n      tempPost.avatarUrl = this.user.avatarUrl;\r\n      tempPost.uid = this.user.uid;\r\n      tempPost.name = this.user.name;\r\n      tempPost.numOfComments = 0;\r\n      tempPost.numOfLikes = 0;\r\n      tempPost.date = moment().toISOString();\r\n      tempPost.contentType = this.contentType;\r\n      if (this.contentType === ContentType.Broadcast) {\r\n        // Need to still update user commentList, need to get the broadcast ID\r\n        tempPost.key = this.firebaseService\r\n        .addToBroadcastList(tempPost, this.user.organizationId);\r\n      } else if (this.contentType === ContentType.Message) {\r\n        tempPost.key = this.firebaseService\r\n        .addToFeedList(tempPost, this.user.organizationId);\r\n      }\r\n      if (tempPost.key) {\r\n        this.updatePostList(tempPost);\r\n        this.view.dismiss();\r\n      } else {\r\n        // Add logging here\r\n        this.error = 'Key not initialized error with ContentType';\r\n      }\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    this.post.nativeElement.style.height = 'auto';\r\n    this.post.nativeElement.style.height = this.post.nativeElement.scrollHeight + 'px';\r\n  }\r\n\r\n  closeModal() {\r\n    this.view.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/composePost/composePost.ts","import { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { AngularFireList } from 'angularfire2/database';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { AngularFireAuth } from 'angularfire2/auth/auth';\r\nimport { User } from '../../models/user';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport { CreateEventPage } from '../createEvent/createEvent';\r\nimport { EventViewPage } from '../eventView/eventView';\r\nimport * as moment from 'moment';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs';\r\nimport  { Event, Repeat } from '../../models/event';\r\n\r\n@Component({\r\n  selector: 'page-events',\r\n  templateUrl: 'events.html',\r\n})\r\nexport class EventsPage {\r\n  firebaseStorage = firebase.storage();\r\n  user = {} as User;\r\n  eventItems$: Observable<any>;\r\n  eventItemsRef: AngularFireList<any>;\r\n  eventItemsSubscription: Subscription;\r\n  eventItems: Map<string, Event> = new Map<string, Event>();\r\n  constructor(private afAuth: AngularFireAuth,\r\n              public navCtrl: NavController,\r\n              public firebaseService: FirebaseServiceProvider,\r\n              private userService: UserServiceProvider) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n    this.eventItemsRef = this.firebaseService.getOrgEventList(this.user.organizationId);\r\n    this.eventItems$ = this.eventItemsRef.snapshotChanges().map((action) => {\r\n      return action.map(c => ({\r\n        key: c.payload.key, ...c.payload.val(),\r\n      }));\r\n    });\r\n    this.buildSubscription();\r\n  }\r\n\r\n  logout() {\r\n    this.afAuth.auth.signOut();\r\n  }\r\n\r\n  goToCreateEvent() {\r\n    this.navCtrl.push(CreateEventPage);\r\n  }\r\n  goToEvent(key: string) {\r\n    const data = {\r\n      eventId: key,\r\n    };\r\n    this.navCtrl.push(EventViewPage, data);\r\n  }\r\n\r\n  buildSubscription() {\r\n    let anEvent: Event;\r\n    this.eventItemsSubscription = this.eventItemsRef.stateChanges()\r\n    .subscribe((action) => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        anEvent = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n        };\r\n        const eventDate = moment(anEvent.date);\r\n        // Checks to see if the event is a day old, if so remove or update it.\r\n        if (eventDate.diff(moment()) < -86400000) {\r\n          switch (anEvent.repeat) {\r\n            case Repeat.Never:\r\n              this.eventItemsRef.remove(anEvent.key);\r\n              break;\r\n            case Repeat.Daily:\r\n              anEvent.date = moment(anEvent.date).add(1, 'd');\r\n              this.eventItems.set(anEvent.key, anEvent);\r\n              this.eventItemsRef.update(anEvent.key, anEvent);\r\n              break;\r\n            case Repeat.Weekly:\r\n              anEvent.date = moment(anEvent.date).add(7, 'd');\r\n              this.eventItems.set(anEvent.key, anEvent);\r\n              this.eventItemsRef.update(anEvent.key, anEvent);\r\n              break;\r\n            case Repeat.Biweekly:\r\n              anEvent.date = moment(anEvent.date).add(14, 'd');\r\n              this.eventItems.set(anEvent.key, anEvent);\r\n              this.eventItemsRef.update(anEvent.key, anEvent);\r\n              break;\r\n            case Repeat.Monthly:\r\n              anEvent.date = moment(anEvent.date).add(1, 'M');\r\n              this.eventItems.set(anEvent.key, anEvent);\r\n              this.eventItemsRef.update(anEvent.key, anEvent);\r\n              break;\r\n            case Repeat.Yearly:\r\n              anEvent.date = moment(anEvent.date).add(1, 'y');\r\n              this.eventItems.set(anEvent.key, anEvent);\r\n              this.eventItemsRef.update(anEvent.key, anEvent);\r\n              break;\r\n          }\r\n          anEvent.date = moment(anEvent.date).format('dddd, MMMM Do YYYY [at] h:mm a');\r\n        } else {\r\n          anEvent.date = moment(anEvent.date).format('dddd, MMMM Do YYYY [at] h:mm a');\r\n          this.eventItems.set(anEvent.key, anEvent);\r\n        }\r\n      } else if (action.type === 'child_changed') {\r\n        // Construct the replacement event\r\n        anEvent = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n        };\r\n        const previousEvent = this.eventItems.get(anEvent.key);\r\n        Object.keys(this.eventItems.get(anEvent.key)).forEach((aProperty) => {\r\n          // If the value of the new broadcast is different, replace it on the previous one\r\n          if (previousEvent[aProperty] !==  anEvent[aProperty]) {\r\n            if (aProperty === 'date') {\r\n              previousEvent[aProperty] = moment(anEvent[aProperty])\r\n                .format('dddd, MMMM Do YYYY [at] h:mm a');\r\n            } else {\r\n              previousEvent[aProperty] = anEvent[aProperty];\r\n            }\r\n          }\r\n        });\r\n      } else if (action.type === 'child_removed') {\r\n        this.eventItems.delete(action.payload.key);\r\n      }\r\n    });\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.eventItemsSubscription.unsubscribe();\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.destroySubscriptions();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/events/events.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { AngularFireAuth } from 'angularfire2/auth/auth';\r\nimport { EventsPage } from '../events/events';\r\nimport { User } from '../../models/user';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport * as moment from 'moment';\r\nimport { Event, Repeat } from '../../models/event';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AngularFireList } from '../../../node_modules/angularfire2/database';\r\n\r\n@Component({\r\n  selector: 'page-createEvent',\r\n  templateUrl: 'createEvent.html',\r\n})\r\nexport class CreateEventPage {\r\n  firebaseStorage = firebase.storage();\r\n  user = {} as User;\r\n  attendingItems$: Observable<any[]>;\r\n  event = {} as Event;\r\n  editMode: boolean = false;\r\n  eventItemsRef: AngularFireList<any>;\r\n  repeatOptions = [\r\n    Repeat.Never,\r\n    Repeat.Daily,\r\n    Repeat.Weekly,\r\n    Repeat.Monthly,\r\n    Repeat.Yearly,\r\n  ];\r\n  constructor(private afAuth: AngularFireAuth,\r\n              public navCtrl: NavController,\r\n              public firebaseService: FirebaseServiceProvider,\r\n              private userService: UserServiceProvider,\r\n              public navParams: NavParams,\r\n              private view: ViewController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    this.event.repeat = Repeat.Never;\r\n    this.event.date = moment().format();\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    if (this.navParams.get('editMode')) {\r\n      this.editMode = true;\r\n      this.event = JSON.parse(this.navParams.get('event'));\r\n      console.log('editmode');\r\n    }\r\n    this.user = userGrab as User;\r\n    this.eventItemsRef = this.firebaseService.getOrgEventList(this.user.organizationId);\r\n    this.attendingItems$ = this.firebaseService.getUserEventList(this.user.uid).valueChanges();\r\n  }\r\n\r\n  logout() {\r\n    this.afAuth.auth.signOut();\r\n  }\r\n\r\n  createEvent() {\r\n    this.event.creator = this.user.name;\r\n    this.event.creatorUid = this.user.uid;\r\n    const newEventKey = this.eventItemsRef.push(this.event).key;\r\n    const updates = {};\r\n    const nameObj = {\r\n      name: this.user.name,\r\n      avatarUrl: this.user.avatarUrl,\r\n    };\r\n    updates[`/organization/${this.user.organizationId}/event/${\r\n      newEventKey}/attendingList/${this.user.uid}`] = nameObj;\r\n    updates[`/users/${this.user.uid}/eventsAttending/${newEventKey}`] = this.event;\r\n    firebase.database().ref().update(updates).then(() => {\r\n      console.log('Event Added!');\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n    this.navCtrl.setRoot(EventsPage);\r\n  }\r\n\r\n  // Edit Event view methods\r\n  closeModal() {\r\n    this.view.dismiss();\r\n  }\r\n\r\n  async updateEvent() {\r\n    try {\r\n      this.eventItemsRef.update(this.event.key, this.event);\r\n      this.view.dismiss();\r\n    } catch (error) {\r\n      console.log('ERROR', error);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/createEvent/createEvent.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ToastController, ModalController } from 'ionic-angular';\r\nimport { AngularFireList, AngularFireObject } from 'angularfire2/database';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { AngularFireAuth } from 'angularfire2/auth/auth';\r\nimport { User } from '../../models/user';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport { Event } from '../../models/event';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs';\r\nimport { CreateEventPage } from '../createEvent/createEvent';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'page-eventView',\r\n  templateUrl: 'eventView.html',\r\n})\r\nexport class EventViewPage {\r\n  firebase = firebase.database();\r\n  user = {} as User;\r\n  eventRef: AngularFireObject<any>;\r\n  eventSubscription: Subscription;\r\n  anEvent: Event;\r\n  attendingList$: Observable<any[]>;\r\n  eventInfo: string = 'details';\r\n  attendingStatus: boolean = false;\r\n  isCreator: boolean = false;\r\n  eventId: string;\r\n  userAttendingListRef: AngularFireList<any>;\r\n  userAttendingList$: Observable<any>;\r\n  eventName: string;\r\n  eventAttendingItemsRef: AngularFireList<any>;\r\n  attendingSubscription: Subscription;\r\n  eventAttendingSubscription: Subscription;\r\n  eventAttendingItems: Map<string, any> = new Map<string, any>();\r\n  repeatLines = {\r\n    Never: 'An event',\r\n    Daily: 'A daily event',\r\n    Weekly: 'A weekly event',\r\n    Monthly: 'A monthly event',\r\n    Yearly: 'A yearly event',\r\n  };\r\n  constructor(public navCtrl: NavController,\r\n              public firebaseService: FirebaseServiceProvider,\r\n              private userService: UserServiceProvider,\r\n              public navParams: NavParams,\r\n              public toastCtrl: ToastController,\r\n              private modalController: ModalController) {\r\n  }\r\n\r\n  async dataSetup() {\r\n    this.eventId = this.navParams.get('eventId');\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n    this.eventRef = this.firebaseService.getEventInfo(this.eventId, this.user.organizationId);\r\n    this.eventAttendingItemsRef = this.firebaseService\r\n      .getEventAttendingList(this.eventId, this.user.organizationId);\r\n    // this.checkCreator();\r\n    this.userAttendingListRef = this.firebaseService.getUserEventList(this.user.uid);\r\n    this.userAttendingList$ = this.userAttendingListRef.snapshotChanges().map((action) => {\r\n      return action.map(c => ({\r\n        key: c.payload.key, ...c.payload.val(),\r\n      }));\r\n    });\r\n    this.buildSubscriptions();\r\n  }\r\n\r\n  async buildSubscriptions() {\r\n    try {\r\n      this.eventAttendingSubscription = this.eventAttendingItemsRef.stateChanges()\r\n        .subscribe(async (action) => {\r\n          if (action.type === 'value' || action.type === 'child_added') {\r\n            const vals = action.payload.val();\r\n            let avatar;\r\n            if (vals.avatarUrl === '../../assets/icon/GMIcon.png') {\r\n              avatar = vals.avatarUrl;\r\n            } else {\r\n              const path = `${this.user.organizationId}/profilePhotos/${action.payload.key}`;\r\n              avatar = await firebase.storage().ref(path).getDownloadURL();\r\n            }\r\n            const attendingUser = {\r\n              name: action.payload.val().name,\r\n              avatarUrl: avatar,\r\n            };\r\n\r\n            // Check if it is the User\r\n            if (action.key === this.user.uid) {\r\n              this.attendingStatus = true;\r\n            }\r\n            this.eventAttendingItems.set(action.key, attendingUser);\r\n          } else if (action.type === 'child_removed') {\r\n            this.eventAttendingItems.delete(action.key);\r\n          }\r\n        });\r\n\r\n      this.eventSubscription = this.eventRef.snapshotChanges().subscribe((action) => {\r\n        if (action.type === 'value' || action.type === 'child_added') {\r\n          this.anEvent = {\r\n            key: action.payload.key,\r\n            ...action.payload.val(),\r\n          };\r\n          if (this.anEvent.creatorUid === this.user.uid) {\r\n            this.isCreator = true;\r\n          }\r\n        } else if (action.type === 'child_changed') {\r\n          const tempEvent = action.payload.val();\r\n          Object.keys(this.anEvent).forEach((aProperty) => {\r\n            // Updates event values only if changed\r\n            if (this.anEvent[aProperty] !==  tempEvent[aProperty]) {\r\n              this.anEvent[aProperty] = tempEvent[aProperty];\r\n            }\r\n          });\r\n        }\r\n        this.anEvent.date = moment(this.anEvent.date).format('dddd, MMMM Do YYYY [at] h:mm a');\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  rsvpYes() {\r\n    if (!this.attendingStatus) { // Check to see if the person is able to rsvp yes\r\n      const updates = {};\r\n      const nameObj = {\r\n        name: this.user.name,\r\n        avatarUrl: this.user.avatarUrl,\r\n      };\r\n      let eventObj = {} as Event;\r\n      this.firebase.ref(`/organization/${this.user.organizationId}/event/${\r\n        this.eventId}`).once('value')\r\n        .then((snapshot) => {\r\n          eventObj = snapshot.val();\r\n          updates[`/organization/${this.user.organizationId}/event/${\r\n            this.eventId}/attendingList/${this.user.uid}`] = nameObj;\r\n          updates[`/users/${this.user.uid}/eventsAttending/${this.eventId}`] = eventObj;\r\n          firebase.database().ref().update(updates).then(() => {\r\n            this.attendingStatus = true;\r\n            this.toast('You are going to this event!');\r\n          }).catch(function (error) {\r\n            this.toast('Error RSVPing.');\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  rsvpNo() {\r\n    if (this.attendingStatus) { // Check to see if the person is able to rsvp no\r\n      this.toast('Removed you from the attending list.');\r\n      this.eventAttendingItemsRef.remove(this.user.uid);\r\n      this.userAttendingListRef.remove(this.eventId);\r\n      this.attendingStatus = false;\r\n    }\r\n  }\r\n\r\n  editEvent() {\r\n    const myModal = this.modalController.create(CreateEventPage, {\r\n      event: JSON.stringify(this.anEvent),\r\n      editMode: true,\r\n    });\r\n    myModal.present();\r\n  }\r\n\r\n  toast(text) {\r\n    const toast = this.toastCtrl.create({\r\n      message: text,\r\n      duration: 2000,\r\n      position: 'top',\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.eventAttendingSubscription.unsubscribe();\r\n    this.eventSubscription.unsubscribe();\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.destroySubscriptions();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/eventView/eventView.ts","import { Component } from '@angular/core';\r\nimport { Storage } from '@ionic/storage';\r\nimport { NavController, App, PopoverController, NavParams, ModalController } from 'ionic-angular';\r\nimport { AngularFireAuth } from 'angularfire2/auth/auth';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { LoginPage } from '../login/login';\r\nimport { User } from '../../models/user';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { AngularFireList } from 'angularfire2/database';\r\nimport { Post } from '../../models/post';\r\nimport { EventViewPage } from '../eventView/eventView';\r\nimport { PopOverComponent } from '../../components/pop-over/pop-over';\r\nimport { EditProfilePage } from '../editProfile/editProfile';\r\nimport * as moment from 'moment';\r\nimport { Subscription } from 'rxjs';\r\nimport * as firebase from 'firebase/app';\r\nimport { Event } from '../../models/event';\r\n@Component({\r\n  selector: 'page-profile',\r\n  templateUrl: 'profile.html',\r\n})\r\nexport class ProfilePage {\r\n  isUser: boolean;\r\n  user = {} as User;\r\n  postItems: Map<string, Post> = new Map<string, Post>();\r\n  postItemRef: AngularFireList<any>;\r\n  postItemSubscription: Subscription;\r\n  eventItems$: Observable<any>;\r\n  eventItems: Map<string, Event> = new Map<string, Event>();\r\n  eventItemsRef: AngularFireList<any>;\r\n  eventItemsSubscription: Subscription;\r\n  profileContent: string = 'posts';\r\n  userLikeListRef: AngularFireList<any>;\r\n  userLikeItems: Set<string> = new Set<string>();\r\n  userLikeSubscription: Subscription;\r\n  avatar: string = '';\r\n  notFirstEnter: boolean = false;\r\n\r\n  constructor(private afAuth: AngularFireAuth,\r\n              public navCtrl: NavController,\r\n              private firebaseService: FirebaseServiceProvider,\r\n              private userService: UserServiceProvider,\r\n              private popoverCtrl: PopoverController,\r\n              public navParams: NavParams,\r\n              private storage: Storage,\r\n              private modal: ModalController,\r\n              private app: App) {\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  // async ionViewDidEnter() {\r\n  //   if (this.notFirstEnter) {\r\n  //     try {\r\n  //       const path = `${this.user.organizationId}/profilePhotos/${this.user.uid}`;\r\n  //       this.avatar = await firebase.storage().ref(path).getDownloadURL();\r\n  //     } catch (error) {\r\n  //       console.log('Error', error);\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  async dataSetup() {\r\n    const guestUser = this.navParams.get('uid');\r\n    try {\r\n      // Check to see if it is a user navigating through profile pictures, if so hide the options\r\n      if (guestUser) {\r\n        this.isUser = false;\r\n        const guestProfileUserGrab = await this.firebaseService\r\n        .getUserDetailsProfilePage(guestUser);\r\n        this.user = guestProfileUserGrab as User;\r\n      } else {\r\n        this.isUser = true;\r\n        const userGrab = await this.userService.currentUserInfo();\r\n        this.user = userGrab as User;\r\n      }\r\n      this.userLikeListRef = this.firebaseService.getUserLikeList(this.user.uid);\r\n      this.postItemRef = this.firebaseService.getUserPostList(this.user.uid);\r\n      this.eventItemsRef = this.firebaseService.getUserEventsAttending(this.user.uid);\r\n      this.buildSubscriptions();\r\n      this.eventItems$ = this.eventItemsRef.snapshotChanges().map((action) => {\r\n        return action.map(c => ({\r\n          key: c.payload.key, ...c.payload.val(),\r\n        }));\r\n      });\r\n      if (this.user.avatarUrl === '../../assets/icon/GMIcon.png') {\r\n        this.avatar = this.user.avatarUrl;\r\n      } else {\r\n        const avatarPath = `${this.user.organizationId}/profilePhotos/${this.user.uid}`;\r\n        this.avatar = await firebase.storage().ref(avatarPath).getDownloadURL();\r\n      }\r\n      this.buildSubscriptions();\r\n      // this.notFirstEnter = true;\r\n    } catch (error) {\r\n      console.log('Error', error);\r\n    }\r\n  }\r\n\r\n  buildSubscriptions() {\r\n    let broadcast : Post;\r\n    let anEvent: Event;\r\n    // Subscriptions for handling the user's posts\r\n    // Broadcast data is stored in a Map\r\n\r\n    this.userLikeSubscription = this.userLikeListRef.stateChanges().subscribe((action) => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        this.userLikeItems.add(action.key);\r\n      } else if (action.type === 'child_removed') {\r\n        this.userLikeItems.delete(action.key);\r\n      }\r\n    });\r\n\r\n    this.postItemSubscription = this.postItemRef.stateChanges()\r\n    .subscribe((action) => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        broadcast = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName: this.userLikeItems.has(action.key) ? 'heart' : 'heart-outline',\r\n        };\r\n        this.postItems.set(broadcast.key, broadcast);\r\n      } else if (action.type === 'child_changed') {\r\n        const expectedIconName = this.userLikeItems.has(action.key) ? 'heart-outline' : 'heart';\r\n        // Construct the replacement broadcast\r\n        broadcast = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName: expectedIconName,\r\n        };\r\n        const previousBroadcast = this.postItems.get(broadcast.key);\r\n        Object.keys(this.postItems.get(broadcast.key)).forEach((aProperty) => {\r\n          // If the value of the new broadcast is different, replace it on the previous one\r\n          if (previousBroadcast[aProperty] !==  broadcast[aProperty]) {\r\n            previousBroadcast[aProperty] = broadcast[aProperty];\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    this.eventItemsSubscription = this.eventItemsRef.stateChanges()\r\n    .subscribe((action) => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        anEvent = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n        };\r\n        const eventDate = moment(anEvent.date);\r\n        if (eventDate.diff(moment()) < -86400000) {\r\n          this.eventItemsRef.remove(anEvent.key);\r\n        } else {\r\n          this.eventItems.set(anEvent.key, anEvent);\r\n        }\r\n      } else if (action.type === 'child_changed') {\r\n        // Construct the replacement event\r\n        anEvent = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n        };\r\n        const previousEvent = this.eventItems.get(anEvent.key);\r\n        Object.keys(this.eventItems.get(anEvent.key)).forEach((aProperty) => {\r\n          // If the value of the new broadcast is different, replace it on the previous one\r\n          if (previousEvent[aProperty] !==  anEvent[aProperty]) {\r\n            previousEvent[aProperty] = anEvent[aProperty];\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  editProfile() {\r\n    const myModal = this.modal.create(EditProfilePage, {\r\n      user: JSON.stringify(this.user),\r\n      avatar: this.avatar,\r\n    });\r\n    myModal.present();\r\n    myModal.onWillDismiss((userData) => {\r\n      if (userData) {\r\n        const updatedUser = JSON.parse(userData.user) as User;\r\n        Object.keys(this.user).forEach((aProperty) => {\r\n          // If the value of the new user is different, replace it on the previous one\r\n          if (this.user[aProperty] !==  updatedUser[aProperty]) {\r\n            this.user[aProperty] = updatedUser[aProperty];\r\n          }\r\n          this.avatar = userData.avatar;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  goToEvent(key: string) {\r\n    const paramObj = {\r\n      eventId: key,\r\n    };\r\n    this.navCtrl.push(EventViewPage, paramObj);\r\n  }\r\n\r\n  presentPopover(popOverEvent) {\r\n    const popover = this.popoverCtrl.create(PopOverComponent, {\r\n      items: [{ name: 'Edit Profile' }, { name: 'Settings' }, { name: 'Log Out' }],\r\n    });\r\n    popover.present({ ev: popOverEvent });\r\n    popover.onWillDismiss((data) => {\r\n      if (data) {\r\n        if (data.name === 'Log Out') {\r\n          this.logout();\r\n        } else if (data.name === 'Edit Profile') {\r\n          this.editProfile();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.userLikeSubscription.unsubscribe();\r\n    this.postItemSubscription.unsubscribe();\r\n    this.eventItemsSubscription.unsubscribe();\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.destroySubscriptions();\r\n  }\r\n\r\n  trackByFn(index: number, item: Post) {\r\n    return item.key;\r\n  }\r\n\r\n  logout() {\r\n    this.afAuth.auth.signOut().then(() => {\r\n      this.app.getRootNavs()[0].setRoot(LoginPage);\r\n      this.storage.remove('user');\r\n    }).catch((e) => {\r\n      console.log(e);\r\n      console.log(e.message);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 201;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/fesm5 lazy\n// module id = 201\n// module chunks = 0","import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport { AngularFireDatabase } from 'angularfire2/database/database';\r\nimport { Storage } from '@ionic/storage';\r\nimport { User } from '../../models/user';\r\nimport { AngularFireObject } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport { Post } from '../../models/post';\r\nimport { Event } from '../../models/event';\r\nimport { UserLike } from '../../models/userLike';\r\nimport { Observable } from '@firebase/util';\r\n\r\n@Injectable()\r\nexport class FirebaseServiceProvider {\r\n  user: Observable<any>;\r\n  userData: AngularFireObject<User>;\r\n  firebaseStorage = firebase.storage();\r\n  firebaseDb = firebase.database();\r\n  constructor(private afDB: AngularFireDatabase,\r\n              private storage: Storage) {\r\n\r\n  }\r\n  // Get organization's image\r\n  getGreetingImage(organizationId: string) {\r\n    return this.firebaseStorage.ref().child(`${organizationId}/logo.png`).getDownloadURL();\r\n  }\r\n\r\n  // Adds an event to the event list for the organization\r\n  // Need to add return handling\r\n  addToOrgEventList(event: Event, organizationId: string) {\r\n    // console.log(broadcast);\r\n    this.afDB.list(`/organization/${organizationId}/broadcast/`).push(event);\r\n  }\r\n\r\n  // Accesses the event information by key\r\n  getEventInfo(key: string, organizationId: string) {\r\n    return this.afDB.object<Event>(`/organization/${organizationId}/event/${key}`);\r\n  }\r\n\r\n  // Accesses the event information by key\r\n  getEventInfo2(key: string, organizationId: string) {\r\n    return this.afDB.object<Event>(`/organization/${organizationId}/event/${key}`);\r\n  }\r\n\r\n  // Accesses the event attendingList by key\r\n  getEventAttendingList(key, organizationId) {\r\n    return this.afDB.list(`/organization/${organizationId}/event/${key}/attendingList/`);\r\n  }\r\n\r\n  // Returns the event list for the organization\r\n  getOrgEventList(organizationId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/event/`);\r\n  }\r\n\r\n  // Adds an event to a user's list of events that they are 'going' to\r\n  getUserEventList(uid: string) {\r\n    return this.afDB.list(`/users/${uid}/eventsAttending/`);\r\n  }\r\n\r\n  // Returns the broadcast list for the greekme page\r\n  getBroadcastList(organizationId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/broadcast/`);\r\n  }\r\n\r\n  // Allows watching of a user's avatar to update when appropriate\r\n  getUserAvatar(uid: string) {\r\n    return this.afDB.object(`/users/${uid}/avatarUrl`);\r\n  }\r\n\r\n  addToBroadcastList(broadcast: Post, organizationId: string) {\r\n    // console.log(broadcast);\r\n    return this.afDB.list(`/organization/${organizationId}/broadcast/`).push(broadcast).key;\r\n  }\r\n\r\n  // Adds a comment to a broadcast commentList\r\n  addCommentToBroadcast(broadcast: Post, organizationId: string, key: string) {\r\n    // console.log(broadcast);\r\n    return this.afDB.list(`/organization/${organizationId}/broadcast/${\r\n      key}/commentList/`).push(broadcast).key;\r\n  }\r\n\r\n  // Adds a comment to a message commentList\r\n  addCommentToMessage(broadcast: Post, organizationId: string, key: string) {\r\n    // console.log(broadcast);\r\n    return this.afDB.list(`/organization/${organizationId}/message/${\r\n      key}/commentList/`).push(broadcast).key;\r\n  }\r\n\r\n  // Returns the feed list for the organization\r\n  getFeedList(organizationId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/message/`);\r\n  }\r\n\r\n  // Adds a feed to the feed list for the organization (Feed uses same structure as broadcast)\r\n  addToFeedList(broadcast: Post, organizationId: string) {\r\n    // console.log(broadcast);\r\n    return this.afDB.list(`/organization/${organizationId}/message/`).push(broadcast).key;\r\n  }\r\n\r\n  // Returns the comments for the broadcast\r\n  getCommentListBroadcast(organizationId: string, broadcastId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/broadcast/${\r\n      broadcastId}/commentList/`);\r\n  }\r\n\r\n  // Returns the comments for the message\r\n  getCommentListMessage(organizationId: string, messageId: string) {\r\n    return this.afDB.list(`/organization/${organizationId}/message/${messageId}/commentList/`);\r\n  }\r\n\r\n  // Return a user's Liked list\r\n  getUserLikeList(uid: string) {\r\n    return this.afDB.list<UserLike>(`/users/${uid}/likeList/`);\r\n  }\r\n\r\n  // Return a user's post list\r\n  getUserPostList(uid: string) {\r\n    return this.afDB.list<Post>(`users/${uid}/postList/`);\r\n  }\r\n\r\n  // Return a user's post list\r\n  getUserEventsAttending(uid: string) {\r\n    return this.afDB.list(`/users/${uid}/eventsAttending/`);\r\n  }\r\n\r\n  getUserDetailsProfilePage(uid: string) {\r\n    return new Promise((resolve) => {\r\n      this.firebaseDb.ref(`/users/${uid}`).once('value').then((snapshot) => {\r\n        resolve(snapshot.val());\r\n      });\r\n    });\r\n  }\r\n\r\n  // 5.0\r\n  getUserDetails(uid: string) {\r\n    return new Promise(async (resolve) => {\r\n      this.firebaseDb.ref(`/users/${uid}`).once('value').then(async (snapshot) => {\r\n        // Store user details locally\r\n        const user = snapshot.val();\r\n        await this.storage.set('user', JSON.stringify(snapshot.val()));\r\n        resolve(true);\r\n      });\r\n    });\r\n  }\r\n\r\n  // Add new user details to firebase storage\r\n  addUserDetails(userDetails: User) {\r\n    return new Promise(async (resolve) => {\r\n      userDetails.bio = 'A sample bio: Lorem ipsum dolor sit amet, consectetur adipiscing elit.' +\r\n      'Sed placerat nulla sit amet tempor viverra.';\r\n      userDetails.avatarUrl = '../../assets/icon/GMIcon.png';\r\n      this.afDB.object(`/users/${userDetails.uid}`).set(userDetails);\r\n      await this.storage.set('user', JSON.stringify(userDetails));\r\n      resolve(true);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/firebaseService/firebaseService.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 243;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 243\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { NavController, LoadingController } from 'ionic-angular';\r\nimport { LoginPage } from '../login/login';\r\nimport { User } from '../../models/user';\r\nimport { AngularFireAuth } from 'angularfire2/auth/auth';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { TabsControllerPage } from '../tabs-controller/tabs-controller';\r\nimport * as firebase from 'firebase/app';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n@Component({\r\n  selector: 'page-signup',\r\n  templateUrl: 'signup.html',\r\n})\r\nexport class SignupPage {\r\n  signupForm: FormGroup;\r\n  error;\r\n  // this tells the tabs component which Pages\r\n  // should be each tab's root Page\r\n  constructor(private afAuth: AngularFireAuth,\r\n              public navCtrl: NavController,\r\n              public firebaseService: FirebaseServiceProvider,\r\n              public loadingCtrl: LoadingController,\r\n              private formBuilder: FormBuilder) {\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    this.signupForm = this.formBuilder.group({\r\n      name: [''],\r\n      email: [''],\r\n      organizationId: [''],\r\n      role: [''],\r\n      password: [''],\r\n    });\r\n  }\r\n\r\n  async register() {\r\n    const user = {\r\n      name: this.signupForm.value.name,\r\n      email: this.signupForm.value.email,\r\n      organizationId: this.signupForm.value.organizationId,\r\n      role: this.signupForm.value.role,\r\n    } as User;\r\n    console.log(user);\r\n    const loader = this.loadingCtrl.create({\r\n      content: 'Registering...',\r\n      dismissOnPageChange: true,\r\n    });\r\n    try {\r\n      loader.present();\r\n      firebase.database().ref('organization/' + user.organizationId)\r\n      .once('value').then((snapshot) => {\r\n        if (snapshot.val()) {\r\n          this.afAuth.auth\r\n          .createUserWithEmailAndPassword(user.email, this.signupForm.value.password)\r\n          .then((res) => {\r\n            user.uid = res.user.uid;\r\n            this.firebaseService.addUserDetails(user).then(() => {\r\n              this.navCtrl.setRoot(TabsControllerPage);\r\n            });\r\n          }).catch((e: Error) => {\r\n            this.errorMessageDigest(e);\r\n          });\r\n        } else {\r\n          throw new Error('Invalid organization code');\r\n        }\r\n      }).catch((e: Error) => {\r\n        this.errorMessageDigest(e);\r\n      });\r\n    } finally {\r\n      loader.dismiss();\r\n    }\r\n  }\r\n\r\n  errorMessageDigest(e: Error) {\r\n    const trimmedMessage = /^.*:\\s*(.*)$/.exec(e.message);\r\n    if (trimmedMessage == null) {\r\n      this.error = e.message;\r\n    } else {\r\n      this.error = trimmedMessage[1];\r\n    }\r\n  }\r\n\r\n  goToLogin() {\r\n    this.navCtrl.setRoot(LoginPage, {}, { animate: true, direction: 'back' });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import { Component } from '@angular/core';\r\nimport { NavController, ModalController } from 'ionic-angular';\r\nimport { AngularFireList } from 'angularfire2/database';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { User } from '../../models/user';\r\nimport { Post } from '../../models/post';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport 'firebase/storage';\r\nimport { ComposePostPage } from '../composePost/composePost';\r\nimport { Subscription } from 'rxjs';\r\nimport { ContentType } from '../../models/contentType';\r\n\r\n@Component({\r\n  selector: 'page-greekme',\r\n  templateUrl: 'greekme.html',\r\n})\r\nexport class GreekMePage {\r\n  user = {} as User;\r\n  validRole = false;\r\n  image: string;\r\n  loadCap = 5;\r\n  reserveBroadcasts =  [];\r\n  broadcastItemRef: AngularFireList<any>;\r\n  broadcastItems = new Map<string, Post>();\r\n  broadcastItemSubscription: Subscription;\r\n  userLikeListRef: AngularFireList<any>;\r\n  userLikeItems = new Set<string>();\r\n  userLikeSubscription: Subscription;\r\n\r\n  constructor(public navCtrl: NavController,\r\n              public firebaseService: FirebaseServiceProvider,\r\n              private userService: UserServiceProvider,\r\n              private modal: ModalController) {\r\n  }\r\n\r\n  async dataSetup() {\r\n    try {\r\n      // Setup the user's details and aqcuire the references to the data in firebase\r\n      const userGrab = await this.userService.currentUserInfo();\r\n      this.user = userGrab as User;\r\n      this.userLikeListRef = this.firebaseService.getUserLikeList(this.user.uid);\r\n      this.broadcastItemRef = this.firebaseService.getBroadcastList(this.user.organizationId);\r\n      // Validates whether or not the user can make broadcasts\r\n      if (this.isValidBroadcastRole()) {\r\n        this.validRole = true;\r\n      }\r\n      const imageGrab = this.firebaseService.getGreetingImage(this.user.organizationId);\r\n      imageGrab.then(\r\n        (result) => {\r\n          this.image = result;\r\n        },\r\n        () => {\r\n          this.image = 'assets/img/8d9YHCdTlOXCBqO65zNP_GM_Master01.png';\r\n        });\r\n      this.buildSubscriptions();\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  isValidBroadcastRole() {\r\n    return this.user.role === 'President' ||\r\n    this.user.role === 'Vice President' ||\r\n    this.user.role === 'Chair Member';\r\n  }\r\n\r\n  buildSubscriptions() {\r\n    let broadcast : Post;\r\n    let broadcastCounter = 0;\r\n    // Subscriptions for handling the user's likes and the broadcasts on the page\r\n    // Data is passed into a Set\r\n    this.userLikeSubscription = this.userLikeListRef.stateChanges().subscribe((action) => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        this.userLikeItems.add(action.key);\r\n      } else if (action.type === 'child_removed') {\r\n        this.userLikeItems.delete(action.key);\r\n      }\r\n    });\r\n\r\n    // Broadcast data is stored in a Map\r\n    this.broadcastItemSubscription = this.broadcastItemRef.stateChanges()\r\n    .subscribe((action) => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        broadcast = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName: this.userLikeItems.has(action.key) ? 'heart' : 'heart-outline',\r\n        };\r\n        if (broadcastCounter < this.loadCap) {\r\n          this.broadcastItems.set(broadcast.key, broadcast);\r\n        } else {\r\n          this.reserveBroadcasts.push(broadcast);\r\n        }\r\n        broadcastCounter += 1;\r\n      } else if (action.type === 'child_changed') {\r\n        const previousBroadcast = this.broadcastItems.get(action.key);\r\n        const expectedIconName = previousBroadcast.iconName;\r\n        // Construct the replacement broadcast\r\n        broadcast = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName: expectedIconName,\r\n        };\r\n        Object.keys(this.broadcastItems.get(broadcast.key)).forEach((aProperty) => {\r\n          // If the value of the new broadcast is different, replace it on the previous one\r\n          if (previousBroadcast[aProperty] !==  broadcast[aProperty]) {\r\n            previousBroadcast[aProperty] = broadcast[aProperty];\r\n          }\r\n        });\r\n      }\r\n    });\r\n    console.log(this.reserveBroadcasts);\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.userLikeSubscription.unsubscribe();\r\n    this.broadcastItemSubscription.unsubscribe();\r\n  }\r\n\r\n  goToComposeBroadcast() {\r\n    const myModal = this.modal.create(ComposePostPage, { contentType: ContentType.Broadcast });\r\n    myModal.present();\r\n  }\r\n\r\n  trackByFn(index: number, item: Post) {\r\n    return item.key;\r\n  }\r\n\r\n  doInfinite(infiniteScroll) {\r\n    console.log('Begin async operation');\r\n    setTimeout(() => {\r\n      while (this.reserveBroadcasts.length > 0) {\r\n        const tempBroadcast = this.reserveBroadcasts.shift();\r\n        console.log(tempBroadcast);\r\n        this.broadcastItems.set(tempBroadcast.key, tempBroadcast);\r\n      }\r\n      console.log('Async operation has ended');\r\n      infiniteScroll.complete();\r\n    },         500);\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.destroySubscriptions();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/greekme/greekme.ts","import { Injectable } from '@angular/core';\r\nimport { User } from '../../models/user';\r\nimport { Storage } from '@ionic/storage';\r\n/**\r\n * Created by nicholaskirschke on 8/3/17.\r\n */\r\n@Injectable()\r\nexport class UserServiceProvider {\r\n  user = {} as User;\r\n  constructor(private storage: Storage) {\r\n  }\r\n\r\n  currentUserInfo() {\r\n    // Retrieve user information from local storage and return\r\n    return new Promise((resolve) => {\r\n      this.storage.get('user').then(res => resolve(JSON.parse(res)));\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/userService/userService.ts","import { Component } from '@angular/core';\r\nimport { NavController, ModalController } from 'ionic-angular';\r\nimport { AngularFireList } from 'angularfire2/database';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { AngularFireAuth } from 'angularfire2/auth/auth';\r\nimport { User } from '../../models/user';\r\nimport { Post } from '../../models/post';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport 'firebase/storage';\r\nimport { ComposePostPage } from '../composePost/composePost';\r\nimport { ContentType } from '../../models/contentType';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'page-feed',\r\n  templateUrl: 'feed.html',\r\n})\r\nexport class FeedPage {\r\n  user = {} as User;\r\n  messageItemRef: AngularFireList<any>;\r\n  messageItems: Map<string, Post> = new Map<string, Post>();\r\n  messageItemSubscription: Subscription;\r\n  userLikeListRef: AngularFireList<any>;\r\n  userLikeItems: Set<string> = new Set<string>();\r\n  userLikeSubscription: Subscription;\r\n\r\n  constructor(private afAuth: AngularFireAuth,\r\n              public navCtrl: NavController,\r\n              public firebaseService: FirebaseServiceProvider,\r\n              private userService: UserServiceProvider,\r\n              private modal: ModalController) {\r\n  }\r\n\r\n  goToComposeFeed() {\r\n    const myModal = this.modal.create(ComposePostPage, { contentType: ContentType.Message });\r\n    myModal.present();\r\n  }\r\n\r\n  async dataSetup() {\r\n    // Setup the user's data and retrieve the data references in firebase\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n    this.userLikeListRef = this.firebaseService.getUserLikeList(this.user.uid);\r\n    this.messageItemRef = this.firebaseService.getFeedList(this.user.organizationId);\r\n    this.buildSubscriptions();\r\n  }\r\n\r\n  buildSubscriptions() {\r\n    let message : Post;\r\n    // Subscriptions for handling the user's likes and the broadcasts on the page\r\n    // Data is passed into a Set\r\n    this.userLikeSubscription = this.userLikeListRef.stateChanges().subscribe((action) => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        this.userLikeItems.add(action.key);\r\n      } else if (action.type === 'child_removed') {\r\n        this.userLikeItems.delete(action.key);\r\n      }\r\n    });\r\n\r\n    // Message data is stored in a Map\r\n    this.messageItemSubscription = this.messageItemRef.stateChanges()\r\n    .subscribe((action) => {\r\n      if (action.type === 'value' || action.type === 'child_added') {\r\n        message = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName: this.userLikeItems.has(action.key) ? 'heart' : 'heart-outline',\r\n        };\r\n        this.messageItems.set(message.key, message);\r\n      } else if (action.type === 'child_changed') {\r\n        const previousMessage = this.messageItems.get(action.key);\r\n        const expectedIconName = previousMessage.iconName;\r\n        // Construct the replacement broadcast\r\n        message = {\r\n          key: action.payload.key,\r\n          ...action.payload.val(),\r\n          iconName: expectedIconName,\r\n        };\r\n        Object.keys(this.messageItems.get(message.key)).forEach((aProperty) => {\r\n          // If the value of the new broadcast is different, replace it on the previous one\r\n          if (previousMessage[aProperty] !==  message[aProperty]) {\r\n            previousMessage[aProperty] = message[aProperty];\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    this.afAuth.auth.signOut();\r\n  }\r\n\r\n  trackByFn(index: number, item: Post) {\r\n    return item.key;\r\n  }\r\n\r\n  destroySubscriptions() {\r\n    this.userLikeSubscription.unsubscribe();\r\n    this.messageItemSubscription.unsubscribe();\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.destroySubscriptions();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.dataSetup();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feed/feed.ts","import { AngularFireList } from 'angularfire2/database';\r\nexport interface Event {\r\n  key: string;\r\n  creator: string;\r\n  creatorUid: string;\r\n  name: string;\r\n  date: any;\r\n  location: string;\r\n  info: string;\r\n  attendingList: AngularFireList<any[]>;\r\n  repeat: Repeat;\r\n}\r\nexport enum Repeat {\r\n    Never = 'Never',\r\n    Daily = 'Daily',\r\n    Weekly = 'Weekly',\r\n    Biweekly = 'Biweekly',\r\n    Monthly = 'Monthly',\r\n    Yearly = 'Yearly',\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/event.ts","import { Component } from '@angular/core';\r\nimport { ViewController, NavParams } from 'ionic-angular';\r\n\r\n/**\r\n * Generated class for the PopOverComponent component.\r\n *\r\n * See https://angular.io/api/core/Component for more info on Angular\r\n * Components.\r\n */\r\n@Component({\r\n  selector: 'pop-over',\r\n  templateUrl: 'pop-over.html',\r\n})\r\nexport class PopOverComponent {\r\n  items: any;\r\n  constructor(public viewCtrl: ViewController, public navParams: NavParams) {\r\n    this.items = this.navParams.get('items');\r\n  }\r\n\r\n  itemClick(item) {\r\n    this.viewCtrl.dismiss(item);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/pop-over/pop-over.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { NavController, NavParams, ViewController, ActionSheetController,\r\n  LoadingController } from 'ionic-angular';\r\nimport { User } from '../../models/user';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { storage } from 'firebase';\r\nimport * as firebase from 'firebase/app';\r\nimport { Storage } from '@ionic/storage';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'page-editProfile',\r\n  templateUrl: 'editProfile.html',\r\n})\r\nexport class EditProfilePage {\r\n  @ViewChild('bio') bio: ElementRef;\r\n  user = {} as User;\r\n  avatar = '' as string;\r\n  photoChanged: boolean = false;\r\n  constructor(public navCtrl: NavController,\r\n              private navParams: NavParams,\r\n              private view: ViewController,\r\n              private camera: Camera,\r\n              private storage: Storage,\r\n              public actionSheetCtrl: ActionSheetController,\r\n              public loadingCtrl: LoadingController) {\r\n  }\r\n\r\n  async ionViewWillEnter() {\r\n    this.user = JSON.parse(this.navParams.data.user);\r\n    this.avatar = this.navParams.data.avatar;\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.resize();\r\n  }\r\n\r\n  async photoMenu() {\r\n    const actionSheet = this.actionSheetCtrl.create({\r\n      enableBackdropDismiss: true,\r\n      buttons: [\r\n        {\r\n          text: 'Take a Photo',\r\n          handler: () => {\r\n            this.choosePhoto(1);\r\n          },\r\n        }, {\r\n          text: 'Camera Roll',\r\n          handler: () => {\r\n            this.choosePhoto(0);\r\n          },\r\n        }, {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n        },\r\n      ],\r\n    });\r\n    actionSheet.present();\r\n  }\r\n\r\n  async choosePhoto(aSourceType: number) {\r\n    const loader = this.loadingCtrl.create({\r\n      content: 'Loading photo...',\r\n    });\r\n    try {\r\n      const options: CameraOptions = {\r\n        quality: 50,\r\n        targetHeight: 1000,\r\n        targetWidth: 1000,\r\n        destinationType: this.camera.DestinationType.DATA_URL,\r\n        sourceType: aSourceType,\r\n        encodingType: this.camera.EncodingType.JPEG,\r\n        correctOrientation: true,\r\n      };\r\n\r\n      const result = await this.camera.getPicture(options);\r\n      loader.present();\r\n      const image = `data:image/jpeg;base64,${result}`;\r\n      this.avatar = image;\r\n      loader.dismiss();\r\n      this.photoChanged = true;\r\n    } catch (error) {\r\n      console.log('ERROR', error.code);\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    this.bio.nativeElement.style.height = 'auto';\r\n    this.bio.nativeElement.style.height = this.bio.nativeElement.scrollHeight + 'px';\r\n  }\r\n\r\n  async updateProfile() {\r\n    try {\r\n      const data = {\r\n        user: JSON.stringify(this.user),\r\n        avatar: this.avatar,\r\n      };\r\n      if (this.photoChanged) {\r\n        const pictures = storage().ref(`${this.user.organizationId}/profilePhotos/${\r\n          this.user.uid}`);\r\n        await pictures.putString(this.avatar, 'data_url');\r\n        this.user.avatarUrl = moment().toISOString();\r\n      }\r\n      await firebase.database().ref(`users/${this.user.uid}/`).set(this.user);\r\n      await this.storage.set('user', JSON.stringify(this.user));\r\n      this.view.dismiss(data);\r\n    } catch (error) {\r\n      console.log('ERROR', error.code);\r\n    }\r\n  }\r\n\r\n  closeModal() {\r\n    this.view.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/editProfile/editProfile.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\r\nimport { Post } from '../../models/post';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport { ComposeThreadPage } from '../composeThread/composeThread';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { ContentType } from '../../models/contentType';\r\nimport { User } from '../../models/user';\r\n/**\r\n * Generated class for the ThreadPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: 'page-thread',\r\n  templateUrl: 'thread.html',\r\n})\r\nexport class ThreadPage {\r\n  firebaseStorage = firebase.storage();\r\n  postItems$: Observable<any>;\r\n  post = {} as Post;\r\n  organizationId = '';\r\n  user = {} as User;\r\n  constructor(public navCtrl: NavController,\r\n              private navParams: NavParams,\r\n              private firebaseService: FirebaseServiceProvider,\r\n              private modal: ModalController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    const data = this.navParams.data;\r\n    this.post = JSON.parse(data.post);\r\n    this.organizationId = data.organizationId;\r\n    this.user = JSON.parse(data.user);\r\n\r\n    if (this.post.contentType === ContentType.Broadcast) {\r\n      this.postItems$ = this.firebaseService\r\n        .getCommentListBroadcast(this.organizationId, this.post.key).valueChanges();\r\n    } else if (this.post.contentType === ContentType.Message) {\r\n      this.postItems$ = this.firebaseService\r\n        .getCommentListMessage(this.organizationId, this.post.key).valueChanges();\r\n    }\r\n  }\r\n\r\n  goToComposeThread() {\r\n    const data = {\r\n      key: this.post.key,\r\n      contentType: this.post.contentType,\r\n    };\r\n    const myModal = this.modal.create(ComposeThreadPage, data);\r\n    myModal.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/thread/thread.ts","import { Component, ElementRef, ViewChild } from '@angular/core';\r\nimport { NavParams, ViewController } from 'ionic-angular';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { User } from '../../models/user';\r\nimport { Post } from '../../models/post';\r\nimport { UserServiceProvider } from '../../providers/userService/userService';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport * as moment from 'moment';\r\nimport { ContentType } from '../../models/contentType';\r\n\r\n@Component({\r\n  selector: 'page-composeThread',\r\n  templateUrl: 'composeThread.html',\r\n})\r\nexport class ComposeThreadPage {\r\n  @ViewChild('comment') comment: ElementRef;\r\n  contentType: ContentType;\r\n  firebaseStorage = firebase.storage();\r\n  user = {} as User;\r\n  tempPost = {} as Post;\r\n  error: string = '';\r\n  postKey: string = '';\r\n  constructor(private firebaseService: FirebaseServiceProvider,\r\n              private userService: UserServiceProvider,\r\n              private navParams: NavParams,\r\n              private view: ViewController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.dataSetup();\r\n  }\r\n\r\n  async dataSetup() {\r\n    const data = this.navParams.data;\r\n    this.postKey = data.key;\r\n    this.contentType = data.contentType;\r\n    const userGrab = await this.userService.currentUserInfo();\r\n    this.user = userGrab as User;\r\n  }\r\n\r\n  getNumOfComments() {\r\n    return new Promise((resolve) => {\r\n      const numOfCommentsRef = firebase.database().ref(`/organization/${\r\n        this.user.organizationId}/${this.contentType}/${this.postKey}/numOfComments/`);\r\n      numOfCommentsRef.on('value', (snapshot) => {\r\n        resolve(snapshot.val());\r\n      });\r\n    });\r\n  }\r\n\r\n  async updateUserPostListAndCommentNumber(tempPost: Post) {\r\n    let numOfComments;\r\n    numOfComments = await this.getNumOfComments();\r\n    const updates = {};\r\n    updates[`/organization/${this.user.organizationId}/${this.contentType}/${\r\n      this.postKey}/numOfComments/`] = numOfComments + 1;\r\n    firebase.database().ref().update(updates).then(() => {\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  composeThread(tempPost: Post) {\r\n    if (tempPost.text == null || tempPost.text === '') {\r\n      this.error = 'Message cannot be blank!';\r\n    } else {\r\n      this.error = '';\r\n      tempPost.avatarUrl = this.user.avatarUrl;\r\n      tempPost.uid = this.user.uid;\r\n      tempPost.name = this.user.name;\r\n      tempPost.date = moment().toISOString();\r\n      tempPost.numOfComments = 0;\r\n      tempPost.numOfLikes = 0;\r\n      tempPost.contentType = ContentType.Thread;\r\n      if (this.contentType === ContentType.Broadcast) {\r\n        tempPost.key = this.firebaseService\r\n        .addCommentToBroadcast(tempPost, this.user.organizationId, this.postKey);\r\n      } else if (this.contentType === ContentType.Message) {\r\n        tempPost.key = this.firebaseService\r\n        .addCommentToMessage(tempPost, this.user.organizationId, this.postKey);\r\n      }\r\n      if (tempPost.key) {\r\n        this.updateUserPostListAndCommentNumber(tempPost);\r\n        this.view.dismiss();\r\n      } else {\r\n        // Add logging here\r\n        this.error = 'Key not initialized error with ContentType';\r\n      }\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    this.comment.nativeElement.style.height = 'auto';\r\n    this.comment.nativeElement.style.height = this.comment.nativeElement.scrollHeight + 'px';\r\n  }\r\n\r\n  closeModal() {\r\n    this.view.dismiss();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/composeThread/composeThread.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\nimport 'rxjs/add/operator/take';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { MyApp } from './app.component';\r\nimport { GreekMePage } from '../pages/greekme/greekme';\r\nimport { FeedPage } from '../pages/feed/feed';\r\nimport { EventsPage } from '../pages/events/events';\r\nimport { TabsControllerPage } from '../pages/tabs-controller/tabs-controller';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { SignupPage } from '../pages/signup/signup';\r\nimport { ProfilePage } from '../pages/profile/profile';\r\nimport { ComposePostPage } from '../pages/composePost/composePost';\r\nimport { CreateEventPage } from '../pages/createEvent/createEvent';\r\nimport { EditProfilePage } from '../pages/editProfile/editProfile';\r\nimport { ThreadPage } from '../pages/thread/thread';\r\nimport { ComposeThreadPage } from '../pages/composeThread/composeThread';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { FirebaseServiceProvider } from '../providers/firebaseService/firebaseService';\r\nimport { HttpModule } from '@angular/http';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { FIREBASE_CONST } from './app.firebase.config';\r\nimport { AngularFireAuthModule } from 'angularfire2/auth/auth.module';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { UserServiceProvider } from '../providers/userService/userService';\r\nimport { MomentModule } from 'angular2-moment';\r\nimport { EventViewPage } from '../pages/eventView/eventView';\r\nimport { NgPipesModule } from 'ngx-pipes';\r\nimport { PostRowComponent } from '../components/post-row/post-row';\r\nimport { PopOverComponent } from '../components/pop-over/pop-over';\r\nimport { PipesModule } from '../pipes/pipes.module';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { PhotoLibrary } from '@ionic-native/photo-library';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    GreekMePage,\r\n    FeedPage,\r\n    EventsPage,\r\n    TabsControllerPage,\r\n    LoginPage,\r\n    SignupPage,\r\n    ProfilePage,\r\n    ComposePostPage,\r\n    CreateEventPage,\r\n    EditProfilePage,\r\n    ThreadPage,\r\n    EventViewPage,\r\n    ComposeThreadPage,\r\n    PostRowComponent,\r\n    PopOverComponent,\r\n\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpModule,\r\n    AngularFireDatabaseModule,\r\n    AngularFireAuthModule,\r\n    AngularFireModule.initializeApp(FIREBASE_CONST),\r\n    IonicModule.forRoot(MyApp),\r\n    IonicStorageModule.forRoot(),\r\n    MomentModule,\r\n    NgPipesModule,\r\n    PipesModule,\r\n\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    GreekMePage,\r\n    FeedPage,\r\n    EventsPage,\r\n    TabsControllerPage,\r\n    LoginPage,\r\n    SignupPage,\r\n    ProfilePage,\r\n    ComposePostPage,\r\n    CreateEventPage,\r\n    EditProfilePage,\r\n    ThreadPage,\r\n    EventViewPage,\r\n    ComposeThreadPage,\r\n    PostRowComponent,\r\n    PopOverComponent,\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    Camera,\r\n    PhotoLibrary,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\r\n    FirebaseServiceProvider,\r\n    UserServiceProvider,\r\n  ],\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { LoginPage } from '../pages/login/login';\r\n@Component({\r\n  templateUrl: 'app.html',\r\n})\r\nexport class MyApp {\r\n  rootPage:any = LoginPage;\r\n\r\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","var map = {\n\t\"./af\": 295,\n\t\"./af.js\": 295,\n\t\"./ar\": 296,\n\t\"./ar-dz\": 297,\n\t\"./ar-dz.js\": 297,\n\t\"./ar-kw\": 298,\n\t\"./ar-kw.js\": 298,\n\t\"./ar-ly\": 299,\n\t\"./ar-ly.js\": 299,\n\t\"./ar-ma\": 300,\n\t\"./ar-ma.js\": 300,\n\t\"./ar-sa\": 301,\n\t\"./ar-sa.js\": 301,\n\t\"./ar-tn\": 302,\n\t\"./ar-tn.js\": 302,\n\t\"./ar.js\": 296,\n\t\"./az\": 303,\n\t\"./az.js\": 303,\n\t\"./be\": 304,\n\t\"./be.js\": 304,\n\t\"./bg\": 305,\n\t\"./bg.js\": 305,\n\t\"./bm\": 306,\n\t\"./bm.js\": 306,\n\t\"./bn\": 307,\n\t\"./bn.js\": 307,\n\t\"./bo\": 308,\n\t\"./bo.js\": 308,\n\t\"./br\": 309,\n\t\"./br.js\": 309,\n\t\"./bs\": 310,\n\t\"./bs.js\": 310,\n\t\"./ca\": 311,\n\t\"./ca.js\": 311,\n\t\"./cs\": 312,\n\t\"./cs.js\": 312,\n\t\"./cv\": 313,\n\t\"./cv.js\": 313,\n\t\"./cy\": 314,\n\t\"./cy.js\": 314,\n\t\"./da\": 315,\n\t\"./da.js\": 315,\n\t\"./de\": 316,\n\t\"./de-at\": 317,\n\t\"./de-at.js\": 317,\n\t\"./de-ch\": 318,\n\t\"./de-ch.js\": 318,\n\t\"./de.js\": 316,\n\t\"./dv\": 319,\n\t\"./dv.js\": 319,\n\t\"./el\": 320,\n\t\"./el.js\": 320,\n\t\"./en-au\": 321,\n\t\"./en-au.js\": 321,\n\t\"./en-ca\": 322,\n\t\"./en-ca.js\": 322,\n\t\"./en-gb\": 323,\n\t\"./en-gb.js\": 323,\n\t\"./en-ie\": 324,\n\t\"./en-ie.js\": 324,\n\t\"./en-il\": 325,\n\t\"./en-il.js\": 325,\n\t\"./en-nz\": 326,\n\t\"./en-nz.js\": 326,\n\t\"./eo\": 327,\n\t\"./eo.js\": 327,\n\t\"./es\": 328,\n\t\"./es-do\": 329,\n\t\"./es-do.js\": 329,\n\t\"./es-us\": 330,\n\t\"./es-us.js\": 330,\n\t\"./es.js\": 328,\n\t\"./et\": 331,\n\t\"./et.js\": 331,\n\t\"./eu\": 332,\n\t\"./eu.js\": 332,\n\t\"./fa\": 333,\n\t\"./fa.js\": 333,\n\t\"./fi\": 334,\n\t\"./fi.js\": 334,\n\t\"./fo\": 335,\n\t\"./fo.js\": 335,\n\t\"./fr\": 336,\n\t\"./fr-ca\": 337,\n\t\"./fr-ca.js\": 337,\n\t\"./fr-ch\": 338,\n\t\"./fr-ch.js\": 338,\n\t\"./fr.js\": 336,\n\t\"./fy\": 339,\n\t\"./fy.js\": 339,\n\t\"./gd\": 340,\n\t\"./gd.js\": 340,\n\t\"./gl\": 341,\n\t\"./gl.js\": 341,\n\t\"./gom-latn\": 342,\n\t\"./gom-latn.js\": 342,\n\t\"./gu\": 343,\n\t\"./gu.js\": 343,\n\t\"./he\": 344,\n\t\"./he.js\": 344,\n\t\"./hi\": 345,\n\t\"./hi.js\": 345,\n\t\"./hr\": 346,\n\t\"./hr.js\": 346,\n\t\"./hu\": 347,\n\t\"./hu.js\": 347,\n\t\"./hy-am\": 348,\n\t\"./hy-am.js\": 348,\n\t\"./id\": 349,\n\t\"./id.js\": 349,\n\t\"./is\": 350,\n\t\"./is.js\": 350,\n\t\"./it\": 351,\n\t\"./it.js\": 351,\n\t\"./ja\": 352,\n\t\"./ja.js\": 352,\n\t\"./jv\": 353,\n\t\"./jv.js\": 353,\n\t\"./ka\": 354,\n\t\"./ka.js\": 354,\n\t\"./kk\": 355,\n\t\"./kk.js\": 355,\n\t\"./km\": 356,\n\t\"./km.js\": 356,\n\t\"./kn\": 357,\n\t\"./kn.js\": 357,\n\t\"./ko\": 358,\n\t\"./ko.js\": 358,\n\t\"./ky\": 359,\n\t\"./ky.js\": 359,\n\t\"./lb\": 360,\n\t\"./lb.js\": 360,\n\t\"./lo\": 361,\n\t\"./lo.js\": 361,\n\t\"./lt\": 362,\n\t\"./lt.js\": 362,\n\t\"./lv\": 363,\n\t\"./lv.js\": 363,\n\t\"./me\": 364,\n\t\"./me.js\": 364,\n\t\"./mi\": 365,\n\t\"./mi.js\": 365,\n\t\"./mk\": 366,\n\t\"./mk.js\": 366,\n\t\"./ml\": 367,\n\t\"./ml.js\": 367,\n\t\"./mn\": 368,\n\t\"./mn.js\": 368,\n\t\"./mr\": 369,\n\t\"./mr.js\": 369,\n\t\"./ms\": 370,\n\t\"./ms-my\": 371,\n\t\"./ms-my.js\": 371,\n\t\"./ms.js\": 370,\n\t\"./mt\": 372,\n\t\"./mt.js\": 372,\n\t\"./my\": 373,\n\t\"./my.js\": 373,\n\t\"./nb\": 374,\n\t\"./nb.js\": 374,\n\t\"./ne\": 375,\n\t\"./ne.js\": 375,\n\t\"./nl\": 376,\n\t\"./nl-be\": 377,\n\t\"./nl-be.js\": 377,\n\t\"./nl.js\": 376,\n\t\"./nn\": 378,\n\t\"./nn.js\": 378,\n\t\"./pa-in\": 379,\n\t\"./pa-in.js\": 379,\n\t\"./pl\": 380,\n\t\"./pl.js\": 380,\n\t\"./pt\": 381,\n\t\"./pt-br\": 382,\n\t\"./pt-br.js\": 382,\n\t\"./pt.js\": 381,\n\t\"./ro\": 383,\n\t\"./ro.js\": 383,\n\t\"./ru\": 384,\n\t\"./ru.js\": 384,\n\t\"./sd\": 385,\n\t\"./sd.js\": 385,\n\t\"./se\": 386,\n\t\"./se.js\": 386,\n\t\"./si\": 387,\n\t\"./si.js\": 387,\n\t\"./sk\": 388,\n\t\"./sk.js\": 388,\n\t\"./sl\": 389,\n\t\"./sl.js\": 389,\n\t\"./sq\": 390,\n\t\"./sq.js\": 390,\n\t\"./sr\": 391,\n\t\"./sr-cyrl\": 392,\n\t\"./sr-cyrl.js\": 392,\n\t\"./sr.js\": 391,\n\t\"./ss\": 393,\n\t\"./ss.js\": 393,\n\t\"./sv\": 394,\n\t\"./sv.js\": 394,\n\t\"./sw\": 395,\n\t\"./sw.js\": 395,\n\t\"./ta\": 396,\n\t\"./ta.js\": 396,\n\t\"./te\": 397,\n\t\"./te.js\": 397,\n\t\"./tet\": 398,\n\t\"./tet.js\": 398,\n\t\"./tg\": 399,\n\t\"./tg.js\": 399,\n\t\"./th\": 400,\n\t\"./th.js\": 400,\n\t\"./tl-ph\": 401,\n\t\"./tl-ph.js\": 401,\n\t\"./tlh\": 402,\n\t\"./tlh.js\": 402,\n\t\"./tr\": 403,\n\t\"./tr.js\": 403,\n\t\"./tzl\": 404,\n\t\"./tzl.js\": 404,\n\t\"./tzm\": 405,\n\t\"./tzm-latn\": 406,\n\t\"./tzm-latn.js\": 406,\n\t\"./tzm.js\": 405,\n\t\"./ug-cn\": 407,\n\t\"./ug-cn.js\": 407,\n\t\"./uk\": 408,\n\t\"./uk.js\": 408,\n\t\"./ur\": 409,\n\t\"./ur.js\": 409,\n\t\"./uz\": 410,\n\t\"./uz-latn\": 411,\n\t\"./uz-latn.js\": 411,\n\t\"./uz.js\": 410,\n\t\"./vi\": 412,\n\t\"./vi.js\": 412,\n\t\"./x-pseudo\": 413,\n\t\"./x-pseudo.js\": 413,\n\t\"./yo\": 414,\n\t\"./yo.js\": 414,\n\t\"./zh-cn\": 415,\n\t\"./zh-cn.js\": 415,\n\t\"./zh-hk\": 416,\n\t\"./zh-hk.js\": 416,\n\t\"./zh-tw\": 417,\n\t\"./zh-tw.js\": 417\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 620;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 620\n// module chunks = 0","export const FIREBASE_CONST = {\r\n  apiKey: 'AIzaSyA2Da_Ed0libe9E_dOohYLH5HGWYKPgQqs',\r\n  authDomain: 'greekme-7475a.firebaseapp.com',\r\n  databaseURL: 'https://greekme-7475a.firebaseio.com',\r\n  projectId: 'greekme-7475a',\r\n  storageBucket: 'greekme-7475a.appspot.com',\r\n  messagingSenderId: '50593623850',\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.firebase.config.ts","import { Component, Input } from '@angular/core';\r\nimport { Post } from '../../models/post';\r\nimport * as firebase from 'firebase/app';\r\nimport { User } from '../../models/user';\r\nimport { UserLike } from '../../models/userLike';\r\nimport { NavController } from 'ionic-angular';\r\nimport { ProfilePage } from '../../pages/profile/profile';\r\nimport { ThreadPage } from '../../pages/thread/thread';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\n\r\n@Component({\r\n  selector: 'post-row',\r\n  templateUrl: 'post-row.html',\r\n})\r\nexport class PostRowComponent {\r\n  @Input('post') post: Post;\r\n  @Input('user') user: User;\r\n  @Input('userLikeItems') userLikeItems: Set<string> = new Set<string>();\r\n  @Input('showComments') showComments : boolean = true;\r\n  @Input('showLikes') showLikes : boolean = true;\r\n  avatar: string = '';\r\n  firstLoad: boolean = true;\r\n  constructor(public navCtrl: NavController,\r\n              private firebaseService: FirebaseServiceProvider) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setupAvatar();\r\n    this.avatarWatch();\r\n  }\r\n\r\n  async setupAvatar() {\r\n    // Avatar url === default, use it, otherwise fetch it from storage\r\n    if (this.post.avatarUrl === '../../assets/icon/GMIcon.png') {\r\n      this.avatar = this.post.avatarUrl;\r\n    } else {\r\n      const path = `${this.user.organizationId}/profilePhotos/${this.post.uid}`;\r\n      this.avatar = await firebase.storage().ref(path).getDownloadURL();\r\n    }\r\n  }\r\n\r\n  avatarWatch() {\r\n    // References the avatarUrl of the post's creator, any changes it will refetch the downloadlink\r\n    const postAvatarRef = this.firebaseService.getUserAvatar(this.post.uid);\r\n    postAvatarRef.snapshotChanges().subscribe((action) => {\r\n      if (action.type === 'value' && !this.firstLoad) {\r\n        this.setupAvatar();\r\n      }\r\n    });\r\n    this.firstLoad = false;\r\n  }\r\n\r\n  goToProfile() {\r\n    this.navCtrl.push(ProfilePage, {\r\n      uid: this.post.uid,\r\n    });\r\n  }\r\n\r\n  doLike() {\r\n    this.post.iconName = this.post.iconName === 'heart-outline' ?\r\n      'heart' : 'heart-outline';\r\n    const updates = {};\r\n    // Paths for the updates regarding data that are push out upon like\r\n    const postLikeListPath = `/organization/${this.user.organizationId}/${\r\n      this.post.contentType}/${this.post.key}/likeList/${this.user.uid}`;\r\n    const userLikeListPath = `/users/${this.user.uid}/likeList/${this.post.key}`;\r\n    const numOfLikePath = `/organization/${\r\n      this.user.organizationId}/${this.post.contentType}/${this.post.key}/numOfLikes/`;\r\n    // TODO Post list acting weird with the liking\r\n    // const ownerPostPath = `/users/${this.post.uid}/postList/${this.post.key}`;\r\n\r\n    const isLiked = this.userLikeItems.has(this.post.key);\r\n    if (isLiked) {\r\n      // Do unlike\r\n      this.post.numOfLikes -= 1;\r\n      updates[postLikeListPath] = null;\r\n      updates[userLikeListPath] = null;\r\n      updates[numOfLikePath] = this.post.numOfLikes;\r\n\r\n    } else {\r\n      // Do like\r\n      // This is the object stored on the post like list\r\n      this.post.numOfLikes += 1;\r\n      const userLikeObj = {\r\n        name: this.user.name,\r\n        key: this.user.uid,\r\n      } as UserLike;\r\n        // This is the object stored on the user's like list\r\n      const postLikeObj = {\r\n        name: this.post.text,\r\n        key: this.post.key,\r\n      };\r\n      updates[postLikeListPath] = userLikeObj;\r\n      updates[userLikeListPath] = postLikeObj;\r\n      updates[numOfLikePath] = this.post.numOfLikes;\r\n    }\r\n    // TODO updates[ownerPostPath] = this.post;\r\n    firebase.database().ref().update(updates).then(() => {\r\n      if (isLiked) {\r\n        console.log('Did unlike');\r\n      } else {\r\n        console.log('Did like');\r\n      }\r\n    }).catch((error) => {\r\n      console.log('Error unlike');\r\n      console.log(error.message());\r\n    });\r\n  }\r\n\r\n  itemSelected() {\r\n    const aPost = JSON.stringify(this.post);\r\n    const aUser = JSON.stringify(this.user);\r\n    const data = {\r\n      organizationId: this.user.organizationId,\r\n      post: aPost,\r\n      user: aUser,\r\n    };\r\n    this.navCtrl.push(ThreadPage, data);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/post-row/post-row.ts","import { NgModule } from '@angular/core';\r\nimport { IterablePipe } from './iterable/iterable';\r\n@NgModule({\r\n  declarations: [IterablePipe],\r\n  imports: [],\r\n  exports: [IterablePipe],\r\n})\r\nexport class PipesModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n/**\r\n * Iterable Pipe\r\n *\r\n * It accepts Objects and [Maps](https://developer.mozilla.org/en-US/docs/Web/\r\n * JavaScript/Reference/Global_Objects/Map)\r\n *\r\n * Example:\r\n *\r\n *  <div *ngFor=\"let keyValuePair of someObject | iterable\">\r\n *    key {{keyValuePair.key}} and value {{keyValuePair.value}}\r\n *  </div>\r\n *\r\n */\r\n@Pipe({ name: 'iterable', pure: false })\r\nexport class IterablePipe implements PipeTransform {\r\n  transform(iterable: any, args: any[]): any {\r\n    const result = [];\r\n    if (iterable.entries) {\r\n      iterable.forEach((key, value) => {\r\n        result.push({ key, value });\r\n      });\r\n    } else {\r\n    // tslint:disable-next-line:prefer-const\r\n      for (let aKey in iterable) {\r\n        if (iterable.hasOwnProperty(aKey)) {\r\n          result.push({ key: aKey, value: iterable[aKey] });\r\n        }\r\n      }\r\n    }\r\n    return result.reverse();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/iterable/iterable.ts","export enum ContentType {\r\n  Broadcast = 'broadcast',\r\n  Message = 'message',\r\n  Thread = 'thread',\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/contentType.ts","import { Component } from '@angular/core';\r\nimport { NavController, LoadingController } from 'ionic-angular';\r\nimport { SignupPage } from '../signup/signup';\r\nimport { User } from '../../models/user';\r\nimport { AngularFireAuth } from 'angularfire2/auth/auth';\r\nimport { FirebaseServiceProvider } from '../../providers/firebaseService/firebaseService';\r\nimport { TabsControllerPage } from '../tabs-controller/tabs-controller';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n  loginForm: FormGroup;\r\n  user = {} as User;\r\n  error = '';\r\n  userCheck: Subscription;\r\n  constructor(private afAuth: AngularFireAuth,\r\n              public navCtrl: NavController,\r\n              public firebaseService: FirebaseServiceProvider,\r\n              public loadingCtrl: LoadingController,\r\n              private formBuilder: FormBuilder) {\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    // If user is logged in retrieve uid then access user info from db..\r\n    this.userCheck = this.afAuth.authState.subscribe((data) => {\r\n      if (data) {\r\n        this.firebaseService.getUserDetails(data.uid)\r\n        .then(() => this.navCtrl.setRoot(TabsControllerPage));\r\n      }\r\n    });\r\n\r\n    this.loginForm = this.formBuilder.group({\r\n      email: [''],\r\n      password: [''],\r\n    });\r\n  }\r\n\r\n  // Method used to transfer user to signup page\r\n  goToSignup() {\r\n    this.navCtrl.setRoot(SignupPage, {}, { animate: true, direction: 'forward' });\r\n  }\r\n\r\n  // Method used to log in\r\n  async login() {\r\n    const loader = this.loadingCtrl.create({\r\n      content: 'Logging in...',\r\n      dismissOnPageChange: true,\r\n    });\r\n    try {\r\n      loader.present();\r\n      await this.afAuth.auth\r\n        .signInWithEmailAndPassword(this.loginForm.value.email, this.loginForm.value.password);\r\n    } catch (e) {\r\n      const trimmedMessage = /^.*:\\s*(.*)$/.exec(e.message);\r\n      if (trimmedMessage == null) {\r\n        this.error = e.message;\r\n      } else {\r\n        this.error = trimmedMessage[1];\r\n      }\r\n    } finally {\r\n      loader.dismiss();\r\n    }\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.userCheck.unsubscribe();\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.userCheck.unsubscribe();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}